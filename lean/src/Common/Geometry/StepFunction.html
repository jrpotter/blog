<html lang="en" class="alectryon-standalone"><head><meta charset="UTF-8"></meta><meta name="viewport" content="width=device-width, initial-scale=1"></meta><link rel="stylesheet" href="../../.././src/alectryon.css"></link><link rel="stylesheet" href="../../.././src/pygments.css"></link><link rel="stylesheet" href="../../.././src/docutils_basic.css"></link><link rel="shortcut icon" href="../../.././favicon.ico"></link><script defer="true" src="../../.././src/alectryon.js"></script></head><body><article class="alectryon-root alectryon-centered"><div class="alectryon-banner">Built with <a href="https://github.com/leanprover/doc-gen4">doc-gen4</a>, running Lean4.
      Bubbles (<span class="alectryon-bubble"></span>) indicate interactive fragments: hover for details, tap to reveal contents.
      Use <kbd>Ctrl+‚Üë</kbd><kbd>Ctrl+‚Üì</kbd>to navigate, <kbd>Ctrl+üñ±Ô∏è</kbd>to focus.
      On Mac, use <kbd>Cmd</kbd>instead of <kbd>Ctrl</kbd>.
    </div><pre class="alectryon-io highlight"><span class="alectryon-wsp"><span class="alectryon-token">import Common.Finset
import Common.Geometry.Rectangle.Orthogonal
import Common.List.Basic
import Common.Set.Partition

/-! # Common.Geometry.StepFunction

Characterization of step functions.
-/

</span><span class="alectryon-token"><span class="k">namespace</span></span><span class="alectryon-token"> Geometry

</span><span class="alectryon-token"><span class="k">open</span></span><span class="alectryon-token"> Set Partition

/--
A function `f`, whose domain is a closed interval `[a, b]`, is a `StepFunction`
if there exists a `Partition` `P = {x‚ÇÄ, x‚ÇÅ, ‚Ä¶, x‚Çô}` of `[a, b]` such that `f` is
constant on each open subinterval of `P`.

Instead of maintaining a function from `[a, b]` to `‚Ñù`, we instead maintain a
function that maps each `Partition` index to some constant value. 
-/
</span><span class="alectryon-token"><span class="k">structure</span></span><span class="alectryon-token"> </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>StepFunction</var><b>: </b><span><a href="../../.././foundational_types.html">Type</a></span></span></div></blockquote></div></small></div>StepFunction</span><span class="alectryon-token"> </span><span class="alectryon-token"><span class="k">where</span></span><span class="alectryon-token">
  </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>p</var><b>: </b><span><span class="fn"><a href="../../.././Common/Geometry/StepFunction.html#Geometry.StepFunction">StepFunction</a> ‚Üí <span class="fn"><a href="../../.././Common/Set/Partition.html#Set.Partition">Partition</a> <a href="../../.././Mathlib/Data/Real/Basic.html#Real">‚Ñù</a></span></span></span></span></div></blockquote></div></small></div>p</span><span class="alectryon-token"> : </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Partition</var><b>: </b><span><span class="fn">(<span class="fn">Œ±</span> : <a href="../../.././foundational_types.html">Type</a> ?u.4) ‚Üí <span class="fn">[<span class="fn">inst</span> : <span class="fn"><a href="../../.././Init/Prelude.html#LT">LT</a> <span class="fn">Œ±</span></span>] ‚Üí <a href="../../.././foundational_types.html">Type</a> ?u.4</span></span></span></span></div></blockquote></div></small></div>Partition</span><span class="alectryon-token"> </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>‚Ñù</var><b>: </b><span><a href="../../.././foundational_types.html">Type</a></span></span></div></blockquote></div></small></div>‚Ñù</span><span class="alectryon-token">
  </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>toFun</var><b>: </b><span><span class="fn">(<span class="fn">self</span> : <a href="../../.././Common/Geometry/StepFunction.html#Geometry.StepFunction">StepFunction</a>) ‚Üí <span class="fn"><span class="fn"><a href="../../.././Init/Prelude.html#Fin">Fin</a> (<span class="fn"><a href="../../.././Common/List/NonEmpty.html#List.NonEmpty.length">List.NonEmpty.length</a> <span class="fn"><span class="fn"><span class="fn">self</span>.p</span>.ivls</span></span>)</span> ‚Üí <a href="../../.././Mathlib/Data/Real/Basic.html#Real">‚Ñù</a></span></span></span></span></div></blockquote></div></small></div>toFun</span><span class="alectryon-token"> : </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Fin</var><b>: </b><span><span class="fn"><a href="../../.././Init/Prelude.html#Nat">‚Ñï</a> ‚Üí <a href="../../.././foundational_types.html">Type</a></span></span></span></div></blockquote></div></small></div>Fin</span><span class="alectryon-token"> </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>p</var><b>: </b><span><span class="fn"><a href="../../.././Common/Set/Partition.html#Set.Partition">Partition</a> <a href="../../.././Mathlib/Data/Real/Basic.html#Real">‚Ñù</a></span></span></span></div></blockquote></div></small></div><span class="nv">p</span></span><span class="alectryon-token">.</span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>ivls</var><b>: </b><span><span class="fn">{<span class="fn">Œ±</span> : <a href="../../.././foundational_types.html">Type</a> ?u.12} ‚Üí <span class="fn">[<span class="fn">inst</span> : <span class="fn"><a href="../../.././Init/Prelude.html#LT">LT</a> <span class="fn">Œ±</span></span>] ‚Üí <span class="fn"><span class="fn"><a href="../../.././Common/Set/Partition.html#Set.Partition">Partition</a> <span class="fn">Œ±</span></span> ‚Üí <span class="fn"><a href="../../.././Common/List/NonEmpty.html#List.NonEmpty">List.NonEmpty</a> (<span class="fn"><a href="../../.././Common/Set/Interval.html#Set.Interval">Interval</a> <span class="fn">Œ±</span></span>)</span></span></span></span></span></span></div></blockquote></div></small></div>ivls</span><span class="alectryon-token">.</span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>length</var><b>: </b><span><span class="fn">{<span class="fn">Œ±</span> : <a href="../../.././foundational_types.html">Type</a> ?u.17} ‚Üí <span class="fn"><span class="fn"><a href="../../.././Common/List/NonEmpty.html#List.NonEmpty">List.NonEmpty</a> <span class="fn">Œ±</span></span> ‚Üí <a href="../../.././Init/Prelude.html#Nat">‚Ñï</a></span></span></span></span></div></blockquote></div></small></div>length</span><span class="alectryon-token"> ‚Üí </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>‚Ñù</var><b>: </b><span><a href="../../.././foundational_types.html">Type</a></span></span></div></blockquote></div></small></div>‚Ñù</span><span class="alectryon-token">

</span><span class="alectryon-token"><span class="k">namespace</span></span><span class="alectryon-token"> StepFunction

/--
The ordinate set of the `StepFunction`.
-/
</span><span class="alectryon-token"><span class="k">def</span></span><span class="alectryon-token"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="plain-lean4-lean-chk0" style="display: none" type="checkbox"></input><label class="alectryon-input" for="plain-lean4-lean-chk0"><span class="alectryon-wsp"><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>toSet</var><b>: </b><span><span class="fn"><a href="../../.././Common/Geometry/StepFunction.html#Geometry.StepFunction">StepFunction</a> ‚Üí <span class="fn"><a href="../../.././Mathlib/Init/Set.html#Set">Set</a> <a href="../../.././Common/Geometry/Point.html#Geometry.Point">Point</a></span></span></span></span></div></blockquote></div></small></div><span class="nv">toSet</span></span></span></label><small class="alectryon-output"><div class="alectryon-messages"><blockquote class="alectryon-message">Warning: declaration uses 'sorry'</blockquote></div></small></span><span class="alectryon-wsp"><span class="alectryon-token"> (</span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>sf</var><b>: </b><span><a href="../../.././Common/Geometry/StepFunction.html#Geometry.StepFunction">StepFunction</a></span></span></div></blockquote></div></small></div><span class="nv">sf</span></span><span class="alectryon-token"> : </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>StepFunction</var><b>: </b><span><a href="../../.././foundational_types.html">Type</a></span></span></div></blockquote></div></small></div>StepFunction</span><span class="alectryon-token">) : </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Set</var><b>: </b><span><span class="fn"><a href="../../.././foundational_types.html">Type</a> ?u.496 ‚Üí <a href="../../.././foundational_types.html">Type</a> ?u.496</span></span></span></div></blockquote></div></small></div>Set</span><span class="alectryon-token"> </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Point</var><b>: </b><span><a href="../../.././foundational_types.html">Type</a></span></span></div></blockquote></div></small></div>Point</span><span class="alectryon-token"> :=
  ‚ãÉ </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>i</var><b>: </b><span><span class="fn">?m.507</span></span></span></div></blockquote></div></small></div><span class="nv">i</span></span><span class="alectryon-token"> ‚àà </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Finset.finRange</var><b>: </b><span><span class="fn">(<span class="fn">n</span> : <a href="../../.././Init/Prelude.html#Nat">‚Ñï</a>) ‚Üí <span class="fn"><a href="../../.././Mathlib/Data/Finset/Basic.html#Finset">Finset</a> (<span class="fn"><a href="../../.././Init/Prelude.html#Fin">Fin</a> <span class="fn">n</span></span>)</span></span></span></span></div></blockquote></div></small></div>Finset.finRange</span><span class="alectryon-token"> </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>sf</var><b>: </b><span><a href="../../.././Common/Geometry/StepFunction.html#Geometry.StepFunction">StepFunction</a></span></span></div></blockquote></div></small></div><span class="nv">sf</span></span><span class="alectryon-token">.</span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>p</var><b>: </b><span><span class="fn"><a href="../../.././Common/Geometry/StepFunction.html#Geometry.StepFunction">StepFunction</a> ‚Üí <span class="fn"><a href="../../.././Common/Set/Partition.html#Set.Partition">Partition</a> <a href="../../.././Mathlib/Data/Real/Basic.html#Real">‚Ñù</a></span></span></span></span></div></blockquote></div></small></div>p</span><span class="alectryon-token">.</span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>ivls</var><b>: </b><span><span class="fn">{<span class="fn">Œ±</span> : <a href="../../.././foundational_types.html">Type</a> ?u.542} ‚Üí <span class="fn">[<span class="fn">inst</span> : <span class="fn"><a href="../../.././Init/Prelude.html#LT">LT</a> <span class="fn">Œ±</span></span>] ‚Üí <span class="fn"><span class="fn"><a href="../../.././Common/Set/Partition.html#Set.Partition">Partition</a> <span class="fn">Œ±</span></span> ‚Üí <span class="fn"><a href="../../.././Common/List/NonEmpty.html#List.NonEmpty">List.NonEmpty</a> (<span class="fn"><a href="../../.././Common/Set/Interval.html#Set.Interval">Interval</a> <span class="fn">Œ±</span></span>)</span></span></span></span></span></span></div></blockquote></div></small></div>ivls</span><span class="alectryon-token">.</span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>length</var><b>: </b><span><span class="fn">{<span class="fn">Œ±</span> : <a href="../../.././foundational_types.html">Type</a> ?u.550} ‚Üí <span class="fn"><span class="fn"><a href="../../.././Common/List/NonEmpty.html#List.NonEmpty">List.NonEmpty</a> <span class="fn">Œ±</span></span> ‚Üí <a href="../../.././Init/Prelude.html#Nat">‚Ñï</a></span></span></span></span></div></blockquote></div></small></div>length</span><span class="alectryon-token">,
    </span><span class="alectryon-token"><span class="k">let</span></span><span class="alectryon-token"> </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>I</var><b>: </b><span><span class="fn">?m.571</span></span></span></div></blockquote></div></small></div><span class="nv">I</span></span><span class="alectryon-token"> := </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>sf</var><b>: </b><span><a href="../../.././Common/Geometry/StepFunction.html#Geometry.StepFunction">StepFunction</a></span></span></div></blockquote></div></small></div><span class="nv">sf</span></span><span class="alectryon-token">.</span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>p</var><b>: </b><span><span class="fn"><a href="../../.././Common/Geometry/StepFunction.html#Geometry.StepFunction">StepFunction</a> ‚Üí <span class="fn"><a href="../../.././Common/Set/Partition.html#Set.Partition">Partition</a> <a href="../../.././Mathlib/Data/Real/Basic.html#Real">‚Ñù</a></span></span></span></span></div></blockquote></div></small></div>p</span><span class="alectryon-token">.</span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>ivls</var><b>: </b><span><span class="fn">{<span class="fn">Œ±</span> : <a href="../../.././foundational_types.html">Type</a> ?u.581} ‚Üí <span class="fn">[<span class="fn">inst</span> : <span class="fn"><a href="../../.././Init/Prelude.html#LT">LT</a> <span class="fn">Œ±</span></span>] ‚Üí <span class="fn"><span class="fn"><a href="../../.././Common/Set/Partition.html#Set.Partition">Partition</a> <span class="fn">Œ±</span></span> ‚Üí <span class="fn"><a href="../../.././Common/List/NonEmpty.html#List.NonEmpty">List.NonEmpty</a> (<span class="fn"><a href="../../.././Common/Set/Interval.html#Set.Interval">Interval</a> <span class="fn">Œ±</span></span>)</span></span></span></span></span></span></div></blockquote></div></small></div>ivls</span><span class="alectryon-token">[</span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>i</var><b>: </b><span><span class="fn">?m.507</span></span></span></div></blockquote></div></small></div><span class="nv">i</span></span><span class="alectryon-token">]
    </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Rectangle.Orthogonal.toSet</var><b>: </b><span><span class="fn"><a href="../../.././Common/Geometry/Rectangle/Orthogonal.html#Geometry.Rectangle.Orthogonal">Rectangle.Orthogonal</a> ‚Üí <span class="fn"><a href="../../.././Mathlib/Init/Set.html#Set">Set</a> <a href="../../.././Common/Geometry/Point.html#Geometry.Point">Point</a></span></span></span></span></div></blockquote></div></small></div>Rectangle.Orthogonal.toSet</span><span class="alectryon-token">
      ‚ü®
        {
          tl := ‚ü®</span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>I</var><b>: </b><span><span class="fn">?m.571</span></span></span></div></blockquote></div></small></div><span class="nv">I</span></span><span class="alectryon-token">.</span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>left</var><b>: </b><span><span class="fn">{<span class="fn">Œ±</span> : <a href="../../.././foundational_types.html">Type</a> ?u.647} ‚Üí <span class="fn">[<span class="fn">inst</span> : <span class="fn"><a href="../../.././Init/Prelude.html#LT">LT</a> <span class="fn">Œ±</span></span>] ‚Üí <span class="fn"><span class="fn"><a href="../../.././Common/Set/Interval.html#Set.Interval">Interval</a> <span class="fn">Œ±</span></span> ‚Üí <span class="fn">Œ±</span></span></span></span></span></span></div></blockquote></div></small></div>left</span><span class="alectryon-token">, </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>sf</var><b>: </b><span><a href="../../.././Common/Geometry/StepFunction.html#Geometry.StepFunction">StepFunction</a></span></span></div></blockquote></div></small></div><span class="nv">sf</span></span><span class="alectryon-token">.</span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>toFun</var><b>: </b><span><span class="fn">(<span class="fn">self</span> : <a href="../../.././Common/Geometry/StepFunction.html#Geometry.StepFunction">StepFunction</a>) ‚Üí <span class="fn"><span class="fn"><a href="../../.././Init/Prelude.html#Fin">Fin</a> (<span class="fn"><a href="../../.././Common/List/NonEmpty.html#List.NonEmpty.length">List.NonEmpty.length</a> <span class="fn"><span class="fn"><span class="fn">self</span>.p</span>.ivls</span></span>)</span> ‚Üí <a href="../../.././Mathlib/Data/Real/Basic.html#Real">‚Ñù</a></span></span></span></span></div></blockquote></div></small></div>toFun</span><span class="alectryon-token"> </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>i</var><b>: </b><span><span class="fn">?m.507</span></span></span></div></blockquote></div></small></div><span class="nv">i</span></span><span class="alectryon-token">‚ü©,
          bl := ‚ü®</span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>I</var><b>: </b><span><span class="fn">?m.571</span></span></span></div></blockquote></div></small></div><span class="nv">I</span></span><span class="alectryon-token">.</span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>left</var><b>: </b><span><span class="fn">{<span class="fn">Œ±</span> : <a href="../../.././foundational_types.html">Type</a> ?u.654} ‚Üí <span class="fn">[<span class="fn">inst</span> : <span class="fn"><a href="../../.././Init/Prelude.html#LT">LT</a> <span class="fn">Œ±</span></span>] ‚Üí <span class="fn"><span class="fn"><a href="../../.././Common/Set/Interval.html#Set.Interval">Interval</a> <span class="fn">Œ±</span></span> ‚Üí <span class="fn">Œ±</span></span></span></span></span></span></div></blockquote></div></small></div>left</span><span class="alectryon-token">, </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>0</var><b>: </b><span><span class="fn">?m.658</span></span></span></div></blockquote></div></small></div>0</span><span class="alectryon-token">‚ü©,
          br := ‚ü®</span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>I</var><b>: </b><span><span class="fn">?m.571</span></span></span></div></blockquote></div></small></div><span class="nv">I</span></span><span class="alectryon-token">.</span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>right</var><b>: </b><span><span class="fn">{<span class="fn">Œ±</span> : <a href="../../.././foundational_types.html">Type</a> ?u.685} ‚Üí <span class="fn">[<span class="fn">inst</span> : <span class="fn"><a href="../../.././Init/Prelude.html#LT">LT</a> <span class="fn">Œ±</span></span>] ‚Üí <span class="fn"><span class="fn"><a href="../../.././Common/Set/Interval.html#Set.Interval">Interval</a> <span class="fn">Œ±</span></span> ‚Üí <span class="fn">Œ±</span></span></span></span></span></span></div></blockquote></div></small></div>right</span><span class="alectryon-token">, </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>0</var><b>: </b><span><span class="fn">?m.689</span></span></span></div></blockquote></div></small></div>0</span><span class="alectryon-token">‚ü©,
          has_right_angle := </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>sorry</var><b>: </b><span><span class="fn">?m.692</span></span></span></div></blockquote></div></small></div>sorry</span><span class="alectryon-token">
        },
        </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="plain-lean4-lean-chk1" style="display: none" type="checkbox"></input><label class="alectryon-input" for="plain-lean4-lean-chk1"><span class="alectryon-wsp"><span class="alectryon-token"><span class="k">by</span></span></span></label><small class="alectryon-output"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"></div><span class="goal-separator"><hr><span class="goal-name"></span></hr></span><div class="goal-conclusion">Goals accomplished! üêô</div></blockquote></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="plain-lean4-lean-chk2" style="display: none" type="checkbox"></input><label class="alectryon-input" for="plain-lean4-lean-chk2"><span class="alectryon-wsp"><span class="alectryon-token"> </span></span></label><small class="alectryon-output"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>sf</var><span class="hyp-type"><b>: </b><span><a href="../../.././Common/Geometry/StepFunction.html#Geometry.StepFunction">StepFunction</a></span></span></span><br></br><span><var>i</var><span class="hyp-type"><b>: </b><span><span class="fn"><a href="../../.././Init/Prelude.html#Fin">Fin</a> (<span class="fn"><a href="../../.././Common/List/NonEmpty.html#List.NonEmpty.length">List.NonEmpty.length</a> <span class="fn"><span class="fn"><span class="fn">sf</span>.p</span>.ivls</span></span>)</span></span></span></span><br></br><span><var>h‚úù</var><span class="hyp-type"><b>: </b><span><span class="fn"><span class="fn">i</span> <a href="../../.././Init/Prelude.html#Membership.mem">‚àà</a> <span class="fn"><a href="../../.././Common/Finset.html#Finset.finRange">Finset.finRange</a> (<span class="fn"><a href="../../.././Common/List/NonEmpty.html#List.NonEmpty.length">List.NonEmpty.length</a> <span class="fn"><span class="fn"><span class="fn">sf</span>.p</span>.ivls</span></span>)</span></span></span></span></span><br></br><span><var>I</var><span class="hyp-body"><b>:= </b><span><span class="fn"><span class="fn"><span class="fn"><span class="fn">sf</span>.p</span>.ivls</span>[<span class="fn">i</span>]</span></span></span><span class="hyp-type"><b>: </b><span><span class="fn"><a href="../../.././Common/Set/Interval.html#Set.Interval">Interval</a> <a href="../../.././Mathlib/Data/Real/Basic.html#Real">‚Ñù</a></span></span></span></span><br></br></div><span class="goal-separator"><hr><span class="goal-name"></span></hr></span><div class="goal-conclusion"><span class="fn"><span class="fn"><span class="fn"><span class="fn"><span class="fn">{ <span class="fn">tl</span> := <span class="fn">{ <span class="fn">x</span> := <span class="fn"><span class="fn">I</span>.left</span>, <span class="fn">y</span> := <span class="fn"><a href="../../.././Common/Geometry/StepFunction.html#Geometry.StepFunction.toFun">toFun</a> <span class="fn">sf</span> <span class="fn">i</span></span> }</span>, <span class="fn">bl</span> := <span class="fn">{ <span class="fn">x</span> := <span class="fn"><span class="fn">I</span>.left</span>, <span class="fn">y</span> := <span class="fn">0</span> }</span>, <span class="fn">br</span> := <span class="fn">{ <span class="fn">x</span> := <span class="fn"><span class="fn">I</span>.right</span>, <span class="fn">y</span> := <span class="fn">0</span> }</span>,
          <span class="fn">has_right_angle</span> :=
            <span class="fn">(_ :
              <span class="fn"><span class="fn"><a href="../../.././Common/Geometry/Point.html#Geometry.Point.angle">Point.angle</a> <span class="fn">{ <span class="fn">x</span> := <span class="fn"><span class="fn">I</span>.left</span>, <span class="fn">y</span> := <span class="fn"><a href="../../.././Common/Geometry/StepFunction.html#Geometry.StepFunction.toFun">toFun</a> <span class="fn">sf</span> <span class="fn">i</span></span> }</span> <span class="fn">{ <span class="fn">x</span> := <span class="fn"><span class="fn">I</span>.left</span>, <span class="fn">y</span> := <span class="fn">0</span> }</span> <span class="fn">{ <span class="fn">x</span> := <span class="fn"><span class="fn">I</span>.right</span>, <span class="fn">y</span> := <span class="fn">0</span> }</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a>                 <span class="fn"><a href="../../.././Common/Real/Trigonometry.html#Real.pi">Real.pi</a> <a href="../../.././Init/Prelude.html#HDiv.hDiv">/</a> <span class="fn">2</span></span></span>)</span> }</span>.bl</span>.x</span> <a href="../../.././Init/Prelude.html#Eq">=</a>     <span class="fn"><span class="fn"><span class="fn">{ <span class="fn">tl</span> := <span class="fn">{ <span class="fn">x</span> := <span class="fn"><span class="fn">I</span>.left</span>, <span class="fn">y</span> := <span class="fn"><a href="../../.././Common/Geometry/StepFunction.html#Geometry.StepFunction.toFun">toFun</a> <span class="fn">sf</span> <span class="fn">i</span></span> }</span>, <span class="fn">bl</span> := <span class="fn">{ <span class="fn">x</span> := <span class="fn"><span class="fn">I</span>.left</span>, <span class="fn">y</span> := <span class="fn">0</span> }</span>, <span class="fn">br</span> := <span class="fn">{ <span class="fn">x</span> := <span class="fn"><span class="fn">I</span>.right</span>, <span class="fn">y</span> := <span class="fn">0</span> }</span>,
          <span class="fn">has_right_angle</span> :=
            <span class="fn">(_ :
              <span class="fn"><span class="fn"><a href="../../.././Common/Geometry/Point.html#Geometry.Point.angle">Point.angle</a> <span class="fn">{ <span class="fn">x</span> := <span class="fn"><span class="fn">I</span>.left</span>, <span class="fn">y</span> := <span class="fn"><a href="../../.././Common/Geometry/StepFunction.html#Geometry.StepFunction.toFun">toFun</a> <span class="fn">sf</span> <span class="fn">i</span></span> }</span> <span class="fn">{ <span class="fn">x</span> := <span class="fn"><span class="fn">I</span>.left</span>, <span class="fn">y</span> := <span class="fn">0</span> }</span> <span class="fn">{ <span class="fn">x</span> := <span class="fn"><span class="fn">I</span>.right</span>, <span class="fn">y</span> := <span class="fn">0</span> }</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a>                 <span class="fn"><a href="../../.././Common/Real/Trigonometry.html#Real.pi">Real.pi</a> <a href="../../.././Init/Prelude.html#HDiv.hDiv">/</a> <span class="fn">2</span></span></span>)</span> }</span>.tl</span>.x</span></span> <a href="../../.././Init/Prelude.html#And">‚àß</a>   <span class="fn"><span class="fn"><span class="fn"><span class="fn">{ <span class="fn">tl</span> := <span class="fn">{ <span class="fn">x</span> := <span class="fn"><span class="fn">I</span>.left</span>, <span class="fn">y</span> := <span class="fn"><a href="../../.././Common/Geometry/StepFunction.html#Geometry.StepFunction.toFun">toFun</a> <span class="fn">sf</span> <span class="fn">i</span></span> }</span>, <span class="fn">bl</span> := <span class="fn">{ <span class="fn">x</span> := <span class="fn"><span class="fn">I</span>.left</span>, <span class="fn">y</span> := <span class="fn">0</span> }</span>, <span class="fn">br</span> := <span class="fn">{ <span class="fn">x</span> := <span class="fn"><span class="fn">I</span>.right</span>, <span class="fn">y</span> := <span class="fn">0</span> }</span>,
          <span class="fn">has_right_angle</span> :=
            <span class="fn">(_ :
              <span class="fn"><span class="fn"><a href="../../.././Common/Geometry/Point.html#Geometry.Point.angle">Point.angle</a> <span class="fn">{ <span class="fn">x</span> := <span class="fn"><span class="fn">I</span>.left</span>, <span class="fn">y</span> := <span class="fn"><a href="../../.././Common/Geometry/StepFunction.html#Geometry.StepFunction.toFun">toFun</a> <span class="fn">sf</span> <span class="fn">i</span></span> }</span> <span class="fn">{ <span class="fn">x</span> := <span class="fn"><span class="fn">I</span>.left</span>, <span class="fn">y</span> := <span class="fn">0</span> }</span> <span class="fn">{ <span class="fn">x</span> := <span class="fn"><span class="fn">I</span>.right</span>, <span class="fn">y</span> := <span class="fn">0</span> }</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a>                 <span class="fn"><a href="../../.././Common/Real/Trigonometry.html#Real.pi">Real.pi</a> <a href="../../.././Init/Prelude.html#HDiv.hDiv">/</a> <span class="fn">2</span></span></span>)</span> }</span>.bl</span>.y</span> <a href="../../.././Init/Prelude.html#Eq">=</a>     <span class="fn"><span class="fn"><span class="fn">{ <span class="fn">tl</span> := <span class="fn">{ <span class="fn">x</span> := <span class="fn"><span class="fn">I</span>.left</span>, <span class="fn">y</span> := <span class="fn"><a href="../../.././Common/Geometry/StepFunction.html#Geometry.StepFunction.toFun">toFun</a> <span class="fn">sf</span> <span class="fn">i</span></span> }</span>, <span class="fn">bl</span> := <span class="fn">{ <span class="fn">x</span> := <span class="fn"><span class="fn">I</span>.left</span>, <span class="fn">y</span> := <span class="fn">0</span> }</span>, <span class="fn">br</span> := <span class="fn">{ <span class="fn">x</span> := <span class="fn"><span class="fn">I</span>.right</span>, <span class="fn">y</span> := <span class="fn">0</span> }</span>,
          <span class="fn">has_right_angle</span> :=
            <span class="fn">(_ :
              <span class="fn"><span class="fn"><a href="../../.././Common/Geometry/Point.html#Geometry.Point.angle">Point.angle</a> <span class="fn">{ <span class="fn">x</span> := <span class="fn"><span class="fn">I</span>.left</span>, <span class="fn">y</span> := <span class="fn"><a href="../../.././Common/Geometry/StepFunction.html#Geometry.StepFunction.toFun">toFun</a> <span class="fn">sf</span> <span class="fn">i</span></span> }</span> <span class="fn">{ <span class="fn">x</span> := <span class="fn"><span class="fn">I</span>.left</span>, <span class="fn">y</span> := <span class="fn">0</span> }</span> <span class="fn">{ <span class="fn">x</span> := <span class="fn"><span class="fn">I</span>.right</span>, <span class="fn">y</span> := <span class="fn">0</span> }</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a>                 <span class="fn"><a href="../../.././Common/Real/Trigonometry.html#Real.pi">Real.pi</a> <a href="../../.././Init/Prelude.html#HDiv.hDiv">/</a> <span class="fn">2</span></span></span>)</span> }</span>.br</span>.y</span></span></span></div></blockquote></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="plain-lean4-lean-chk3" style="display: none" type="checkbox"></input><label class="alectryon-input" for="plain-lean4-lean-chk3"><span class="alectryon-wsp"><span class="alectryon-token"><span class="k">simp</span></span></span></label><small class="alectryon-output"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"></div><span class="goal-separator"><hr><span class="goal-name"></span></hr></span><div class="goal-conclusion">Goals accomplished! üêô</div></blockquote></div></small></span><span class="alectryon-wsp"><span class="alectryon-token">
      ‚ü©

</span><span class="alectryon-token"><span class="k">end</span></span><span class="alectryon-token"> StepFunction

</span><span class="alectryon-token"><span class="k">end</span></span><span class="alectryon-token"> Geometry</span></span></pre></article></body></html>