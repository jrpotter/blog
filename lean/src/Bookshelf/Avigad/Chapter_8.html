<html lang="en" class="alectryon-standalone"><head><meta charset="UTF-8"></meta><meta name="viewport" content="width=device-width, initial-scale=1"></meta><link rel="stylesheet" href="../../.././src/alectryon.css"></link><link rel="stylesheet" href="../../.././src/pygments.css"></link><link rel="stylesheet" href="../../.././src/docutils_basic.css"></link><link rel="shortcut icon" href="../../.././favicon.ico"></link><script defer="true" src="../../.././src/alectryon.js"></script></head><body><article class="alectryon-root alectryon-centered"><div class="alectryon-banner">Built with <a href="https://github.com/leanprover/doc-gen4">doc-gen4</a>, running Lean4.
      Bubbles (<span class="alectryon-bubble"></span>) indicate interactive fragments: hover for details, tap to reveal contents.
      Use <kbd>Ctrl+↑</kbd><kbd>Ctrl+↓</kbd>to navigate, <kbd>Ctrl+🖱️</kbd>to focus.
      On Mac, use <kbd>Cmd</kbd>instead of <kbd>Ctrl</kbd>.
    </div><pre class="alectryon-io highlight"><span class="alectryon-wsp"><span class="alectryon-token">/-! # Avigad.Chapter8

Induction and Recursion
-/

</span><span class="alectryon-token"><span class="k">namespace</span></span><span class="alectryon-token"> Avigad.Chapter8

/-! #### Exercise 1

Open a namespace `Hidden` to avoid naming conflicts, and use the equation
compiler to define addition, multiplication, and exponentiation on the natural
numbers. Then use the equation compiler to derive some of their basic
properties.
-/

</span><span class="alectryon-token"><span class="k">namespace</span></span><span class="alectryon-token"> ex1

</span><span class="alectryon-token"><span class="k">def</span></span><span class="alectryon-token"> </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>add</var><b>: </b><span><span class="fn"><a href="../../.././Init/Prelude.html#Nat">Nat</a> → <a href="../../.././Init/Prelude.html#Nat">Nat</a> → <a href="../../.././Init/Prelude.html#Nat">Nat</a></span></span></span></div></blockquote></div></small></div><span class="nv">add</span></span><span class="alectryon-token"> : </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Nat</var><b>: </b><span><a href="../../.././foundational_types.html">Type</a></span></span></div></blockquote></div></small></div>Nat</span><span class="alectryon-token"> → </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Nat</var><b>: </b><span><a href="../../.././foundational_types.html">Type</a></span></span></div></blockquote></div></small></div>Nat</span><span class="alectryon-token"> → </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Nat</var><b>: </b><span><a href="../../.././foundational_types.html">Type</a></span></span></div></blockquote></div></small></div>Nat</span><span class="alectryon-token">
  | </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>m</var><b>: </b><span><a href="../../.././Init/Prelude.html#Nat">Nat</a></span></span></div></blockquote></div></small></div><span class="nv">m</span></span><span class="alectryon-token">, </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Nat.zero</var><b>: </b><span><a href="../../.././Init/Prelude.html#Nat">Nat</a></span></span></div></blockquote></div></small></div>Nat.zero</span><span class="alectryon-token">   => </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>m</var><b>: </b><span><a href="../../.././Init/Prelude.html#Nat">Nat</a></span></span></div></blockquote></div></small></div><span class="nv">m</span></span><span class="alectryon-token">
  | </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>m</var><b>: </b><span><a href="../../.././Init/Prelude.html#Nat">Nat</a></span></span></div></blockquote></div></small></div><span class="nv">m</span></span><span class="alectryon-token">, </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Nat.succ</var><b>: </b><span><span class="fn"><a href="../../.././Init/Prelude.html#Nat">Nat</a> → <a href="../../.././Init/Prelude.html#Nat">Nat</a></span></span></span></div></blockquote></div></small></div>Nat.succ</span><span class="alectryon-token"> </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>n</var><b>: </b><span><a href="../../.././Init/Prelude.html#Nat">Nat</a></span></span></div></blockquote></div></small></div><span class="nv">n</span></span><span class="alectryon-token"> => </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Nat.succ</var><b>: </b><span><span class="fn"><a href="../../.././Init/Prelude.html#Nat">Nat</a> → <a href="../../.././Init/Prelude.html#Nat">Nat</a></span></span></span></div></blockquote></div></small></div>Nat.succ</span><span class="alectryon-token"> (</span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>add</var><b>: </b><span><span class="fn"><a href="../../.././Init/Prelude.html#Nat">Nat</a> → <a href="../../.././Init/Prelude.html#Nat">Nat</a> → <a href="../../.././Init/Prelude.html#Nat">Nat</a></span></span></span></div></blockquote></div></small></div><span class="nv">add</span></span><span class="alectryon-token"> </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>m</var><b>: </b><span><a href="../../.././Init/Prelude.html#Nat">Nat</a></span></span></div></blockquote></div></small></div><span class="nv">m</span></span><span class="alectryon-token"> </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>n</var><b>: </b><span><a href="../../.././Init/Prelude.html#Nat">Nat</a></span></span></div></blockquote></div></small></div><span class="nv">n</span></span><span class="alectryon-token">)

</span><span class="alectryon-token"><span class="k">def</span></span><span class="alectryon-token"> </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>mul</var><b>: </b><span><span class="fn"><a href="../../.././Init/Prelude.html#Nat">Nat</a> → <a href="../../.././Init/Prelude.html#Nat">Nat</a> → <a href="../../.././Init/Prelude.html#Nat">Nat</a></span></span></span></div></blockquote></div></small></div><span class="nv">mul</span></span><span class="alectryon-token"> : </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Nat</var><b>: </b><span><a href="../../.././foundational_types.html">Type</a></span></span></div></blockquote></div></small></div>Nat</span><span class="alectryon-token"> → </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Nat</var><b>: </b><span><a href="../../.././foundational_types.html">Type</a></span></span></div></blockquote></div></small></div>Nat</span><span class="alectryon-token"> → </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Nat</var><b>: </b><span><a href="../../.././foundational_types.html">Type</a></span></span></div></blockquote></div></small></div>Nat</span><span class="alectryon-token">
  | _, </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Nat.zero</var><b>: </b><span><a href="../../.././Init/Prelude.html#Nat">Nat</a></span></span></div></blockquote></div></small></div>Nat.zero</span><span class="alectryon-token"> => </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>0</var><b>: </b><span><span class="fn">?m.348</span></span></span></div></blockquote></div></small></div>0</span><span class="alectryon-token">
  | </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>m</var><b>: </b><span><a href="../../.././Init/Prelude.html#Nat">Nat</a></span></span></div></blockquote></div></small></div><span class="nv">m</span></span><span class="alectryon-token">, </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Nat.succ</var><b>: </b><span><span class="fn"><a href="../../.././Init/Prelude.html#Nat">Nat</a> → <a href="../../.././Init/Prelude.html#Nat">Nat</a></span></span></span></div></blockquote></div></small></div>Nat.succ</span><span class="alectryon-token"> </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>n</var><b>: </b><span><a href="../../.././Init/Prelude.html#Nat">Nat</a></span></span></div></blockquote></div></small></div><span class="nv">n</span></span><span class="alectryon-token"> => </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>add</var><b>: </b><span><span class="fn"><a href="../../.././Init/Prelude.html#Nat">Nat</a> → <a href="../../.././Init/Prelude.html#Nat">Nat</a> → <a href="../../.././Init/Prelude.html#Nat">Nat</a></span></span></span></div></blockquote></div></small></div>add</span><span class="alectryon-token"> </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>m</var><b>: </b><span><a href="../../.././Init/Prelude.html#Nat">Nat</a></span></span></div></blockquote></div></small></div><span class="nv">m</span></span><span class="alectryon-token"> (</span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>mul</var><b>: </b><span><span class="fn"><a href="../../.././Init/Prelude.html#Nat">Nat</a> → <a href="../../.././Init/Prelude.html#Nat">Nat</a> → <a href="../../.././Init/Prelude.html#Nat">Nat</a></span></span></span></div></blockquote></div></small></div><span class="nv">mul</span></span><span class="alectryon-token"> </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>m</var><b>: </b><span><a href="../../.././Init/Prelude.html#Nat">Nat</a></span></span></div></blockquote></div></small></div><span class="nv">m</span></span><span class="alectryon-token"> </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>n</var><b>: </b><span><a href="../../.././Init/Prelude.html#Nat">Nat</a></span></span></div></blockquote></div></small></div><span class="nv">n</span></span><span class="alectryon-token">)

</span><span class="alectryon-token"><span class="k">def</span></span><span class="alectryon-token"> </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>exp</var><b>: </b><span><span class="fn"><a href="../../.././Init/Prelude.html#Nat">Nat</a> → <a href="../../.././Init/Prelude.html#Nat">Nat</a> → <a href="../../.././Init/Prelude.html#Nat">Nat</a></span></span></span></div></blockquote></div></small></div><span class="nv">exp</span></span><span class="alectryon-token"> : </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Nat</var><b>: </b><span><a href="../../.././foundational_types.html">Type</a></span></span></div></blockquote></div></small></div>Nat</span><span class="alectryon-token"> → </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Nat</var><b>: </b><span><a href="../../.././foundational_types.html">Type</a></span></span></div></blockquote></div></small></div>Nat</span><span class="alectryon-token"> → </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Nat</var><b>: </b><span><a href="../../.././foundational_types.html">Type</a></span></span></div></blockquote></div></small></div>Nat</span><span class="alectryon-token">
  | _, </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Nat.zero</var><b>: </b><span><a href="../../.././Init/Prelude.html#Nat">Nat</a></span></span></div></blockquote></div></small></div>Nat.zero</span><span class="alectryon-token"> => </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>1</var><b>: </b><span><span class="fn">?m.670</span></span></span></div></blockquote></div></small></div>1</span><span class="alectryon-token">
  | </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>m</var><b>: </b><span><a href="../../.././Init/Prelude.html#Nat">Nat</a></span></span></div></blockquote></div></small></div><span class="nv">m</span></span><span class="alectryon-token">, </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Nat.succ</var><b>: </b><span><span class="fn"><a href="../../.././Init/Prelude.html#Nat">Nat</a> → <a href="../../.././Init/Prelude.html#Nat">Nat</a></span></span></span></div></blockquote></div></small></div>Nat.succ</span><span class="alectryon-token"> </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>n</var><b>: </b><span><a href="../../.././Init/Prelude.html#Nat">Nat</a></span></span></div></blockquote></div></small></div><span class="nv">n</span></span><span class="alectryon-token"> => </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>mul</var><b>: </b><span><span class="fn"><a href="../../.././Init/Prelude.html#Nat">Nat</a> → <a href="../../.././Init/Prelude.html#Nat">Nat</a> → <a href="../../.././Init/Prelude.html#Nat">Nat</a></span></span></span></div></blockquote></div></small></div>mul</span><span class="alectryon-token"> </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>m</var><b>: </b><span><a href="../../.././Init/Prelude.html#Nat">Nat</a></span></span></div></blockquote></div></small></div><span class="nv">m</span></span><span class="alectryon-token"> (</span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>exp</var><b>: </b><span><span class="fn"><a href="../../.././Init/Prelude.html#Nat">Nat</a> → <a href="../../.././Init/Prelude.html#Nat">Nat</a> → <a href="../../.././Init/Prelude.html#Nat">Nat</a></span></span></span></div></blockquote></div></small></div><span class="nv">exp</span></span><span class="alectryon-token"> </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>m</var><b>: </b><span><a href="../../.././Init/Prelude.html#Nat">Nat</a></span></span></div></blockquote></div></small></div><span class="nv">m</span></span><span class="alectryon-token"> </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>n</var><b>: </b><span><a href="../../.././Init/Prelude.html#Nat">Nat</a></span></span></div></blockquote></div></small></div><span class="nv">n</span></span><span class="alectryon-token">)

</span><span class="alectryon-token"><span class="k">end</span></span><span class="alectryon-token"> ex1

/-! #### Exercise 2

Similarly, use the equation compiler to define some basic operations on lists
(like the reverse function) and prove theorems about lists by induction (such as
the fact that `reverse (reverse xs) = xs` for any list `xs`).
-/

</span><span class="alectryon-token"><span class="k">namespace</span></span><span class="alectryon-token"> ex2

</span><span class="alectryon-token"><span class="k">variable</span></span><span class="alectryon-token"> {</span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>α</var><b>: </b><span><a href="../../.././foundational_types.html">Type</a> ?u.969</span></span></div></blockquote></div></small></div><span class="nv">α</span></span><span class="alectryon-token"> : </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Type _</var><b>: </b><span><a href="../../.././foundational_types.html">Type</a> (?u.966+1)</span></span></div></blockquote></div></small></div>Type _</span><span class="alectryon-token">}

</span><span class="alectryon-token"><span class="k">def</span></span><span class="alectryon-token"> </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>reverse</var><b>: </b><span><span class="fn"><span class="fn"><a href="../../.././Init/Prelude.html#List">List</a> <span class="fn">α</span></span> → <span class="fn"><a href="../../.././Init/Prelude.html#List">List</a> <span class="fn">α</span></span></span></span></span></div></blockquote></div></small></div><span class="nv">reverse</span></span><span class="alectryon-token"> : </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>List</var><b>: </b><span><span class="fn"><a href="../../.././foundational_types.html">Type</a> ?u.973 → <a href="../../.././foundational_types.html">Type</a> ?u.973</span></span></span></div></blockquote></div></small></div>List</span><span class="alectryon-token"> </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>α</var><b>: </b><span><a href="../../.././foundational_types.html">Type</a> ?u.969</span></span></div></blockquote></div></small></div><span class="nv">α</span></span><span class="alectryon-token"> → </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>List</var><b>: </b><span><span class="fn"><a href="../../.././foundational_types.html">Type</a> ?u.975 → <a href="../../.././foundational_types.html">Type</a> ?u.975</span></span></span></div></blockquote></div></small></div>List</span><span class="alectryon-token"> </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>α</var><b>: </b><span><a href="../../.././foundational_types.html">Type</a> ?u.969</span></span></div></blockquote></div></small></div><span class="nv">α</span></span><span class="alectryon-token">
  | [] => </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>[]</var><b>: </b><span><span class="fn"><a href="../../.././Init/Prelude.html#List">List</a> <span class="fn">?m.991</span></span></span></span></div></blockquote></div></small></div>[]</span><span class="alectryon-token">
  | (</span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>head</var><b>: </b><span><span class="fn">α</span></span></span></div></blockquote></div></small></div><span class="nv">head</span></span><span class="alectryon-token"> :: </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>tail</var><b>: </b><span><span class="fn"><a href="../../.././Init/Prelude.html#List">List</a> <span class="fn">α</span></span></span></span></div></blockquote></div></small></div><span class="nv">tail</span></span><span class="alectryon-token">) => </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>reverse</var><b>: </b><span><span class="fn"><span class="fn"><a href="../../.././Init/Prelude.html#List">List</a> <span class="fn">α</span></span> → <span class="fn"><a href="../../.././Init/Prelude.html#List">List</a> <span class="fn">α</span></span></span></span></span></div></blockquote></div></small></div><span class="nv">reverse</span></span><span class="alectryon-token"> </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>tail</var><b>: </b><span><span class="fn"><a href="../../.././Init/Prelude.html#List">List</a> <span class="fn">α</span></span></span></span></div></blockquote></div></small></div><span class="nv">tail</span></span><span class="alectryon-token"> ++ [</span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>head</var><b>: </b><span><span class="fn">α</span></span></span></div></blockquote></div></small></div><span class="nv">head</span></span><span class="alectryon-token">]

-- Proof of `reverse (reverse xs) = xs` shown in previous exercise.

</span><span class="alectryon-token"><span class="k">end</span></span><span class="alectryon-token"> ex2

/-! #### Exercise 3

Define your own function to carry out course-of-value recursion on the natural
numbers. Similarly, see if you can figure out how to define `WellFounded.fix` on
your own.
-/

</span><span class="alectryon-token"><span class="k">namespace</span></span><span class="alectryon-token"> ex3

</span><span class="alectryon-token"><span class="k">def</span></span><span class="alectryon-token"> </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>below</var><b>: </b><span><span class="fn">{<span class="fn">motive</span> : <span class="fn"><a href="../../.././Init/Prelude.html#Nat">Nat</a> → <a href="../../.././foundational_types.html">Sort</a> u</span>} → <span class="fn"><a href="../../.././Init/Prelude.html#Nat">Nat</a> → <a href="../../.././foundational_types.html">Sort</a> (max1u)</span></span></span></span></div></blockquote></div></small></div><span class="nv">below</span></span><span class="alectryon-token"> {</span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>motive</var><b>: </b><span><span class="fn"><a href="../../.././Init/Prelude.html#Nat">Nat</a> → <a href="../../.././foundational_types.html">Sort</a> u</span></span></span></div></blockquote></div></small></div><span class="nv">motive</span></span><span class="alectryon-token"> : </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Nat</var><b>: </b><span><a href="../../.././foundational_types.html">Type</a></span></span></div></blockquote></div></small></div>Nat</span><span class="alectryon-token"> → </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Sort u</var><b>: </b><span><a href="../../.././foundational_types.html">Type</a> u</span></span></div></blockquote></div></small></div><span class="k">Sort</span></span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Sort u</var><b>: </b><span><a href="../../.././foundational_types.html">Type</a> u</span></span></div></blockquote></div></small></div> u</span><span class="alectryon-token">} (</span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>t</var><b>: </b><span><a href="../../.././Init/Prelude.html#Nat">Nat</a></span></span></div></blockquote></div></small></div><span class="nv">t</span></span><span class="alectryon-token"> : </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Nat</var><b>: </b><span><a href="../../.././foundational_types.html">Type</a></span></span></div></blockquote></div></small></div>Nat</span><span class="alectryon-token">) : </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Sort (max 1 u)</var><b>: </b><span><a href="../../.././foundational_types.html">Type</a> (max1u)</span></span></div></blockquote></div></small></div><span class="k">Sort</span></span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Sort (max 1 u)</var><b>: </b><span><a href="../../.././foundational_types.html">Type</a> (max1u)</span></span></div></blockquote></div></small></div> (</span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Sort (max 1 u)</var><b>: </b><span><a href="../../.././foundational_types.html">Type</a> (max1u)</span></span></div></blockquote></div></small></div><span class="k">max</span></span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Sort (max 1 u)</var><b>: </b><span><a href="../../.././foundational_types.html">Type</a> (max1u)</span></span></div></blockquote></div></small></div> 1 u)</span><span class="alectryon-token"> :=
  </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Nat.recOn</var><b>: </b><span><span class="fn">{<span class="fn">motive</span> : <span class="fn"><a href="../../.././Init/Prelude.html#Nat">Nat</a> → <a href="../../.././foundational_types.html">Sort</a> ?u.1333</span>} → <span class="fn">(<span class="fn">t</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>) → <span class="fn"><span class="fn"><span class="fn">motive</span> <a href="../../.././Init/Prelude.html#Nat.zero">Nat.zero</a></span> → <span class="fn">(<span class="fn">(<span class="fn">n</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>) → <span class="fn"><span class="fn"><span class="fn">motive</span> <span class="fn">n</span></span> → <span class="fn"><span class="fn">motive</span> (<span class="fn"><a href="../../.././Init/Prelude.html#Nat.succ">Nat.succ</a> <span class="fn">n</span></span>)</span></span></span>) → <span class="fn"><span class="fn">motive</span> <span class="fn">t</span></span></span></span></span></span></span></span></div></blockquote></div></small></div>Nat.recOn</span><span class="alectryon-token"> </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>t</var><b>: </b><span><a href="../../.././Init/Prelude.html#Nat">Nat</a></span></span></div></blockquote></div></small></div><span class="nv">t</span></span><span class="alectryon-token">
    (zero := </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>PUnit</var><b>: </b><span><a href="../../.././foundational_types.html">Sort</a> ?u.1356</span></span></div></blockquote></div></small></div>PUnit</span><span class="alectryon-token">)
    (succ := </span><span class="alectryon-token"><span class="k">fun</span></span><span class="alectryon-token"> </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>n</var><b>: </b><span><span class="fn">?m.1358</span></span></span></div></blockquote></div></small></div><span class="nv">n</span></span><span class="alectryon-token"> </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>ih</var><b>: </b><span><span class="fn">?m.1361</span></span></span></div></blockquote></div></small></div><span class="nv">ih</span></span><span class="alectryon-token"> => </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>PProd</var><b>: </b><span><span class="fn"><a href="../../.././foundational_types.html">Sort</a> ?u.1364 → <span class="fn"><a href="../../.././foundational_types.html">Sort</a> ?u.1363 → <a href="../../.././foundational_types.html">Sort</a> (max(max1?u.1364)?u.1363)</span></span></span></span></div></blockquote></div></small></div>PProd</span><span class="alectryon-token"> (</span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>PProd</var><b>: </b><span><span class="fn"><a href="../../.././foundational_types.html">Sort</a> ?u.1366 → <span class="fn"><a href="../../.././foundational_types.html">Sort</a> ?u.1365 → <a href="../../.././foundational_types.html">Sort</a> (max(max1?u.1366)?u.1365)</span></span></span></span></div></blockquote></div></small></div>PProd</span><span class="alectryon-token"> (</span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>motive</var><b>: </b><span><span class="fn"><a href="../../.././Init/Prelude.html#Nat">Nat</a> → <a href="../../.././foundational_types.html">Sort</a> u</span></span></span></div></blockquote></div></small></div><span class="nv">motive</span></span><span class="alectryon-token"> </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>n</var><b>: </b><span><span class="fn">?m.1358</span></span></span></div></blockquote></div></small></div><span class="nv">n</span></span><span class="alectryon-token">) </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>ih</var><b>: </b><span><span class="fn">?m.1361</span></span></span></div></blockquote></div></small></div><span class="nv">ih</span></span><span class="alectryon-token">) (</span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>PUnit</var><b>: </b><span><a href="../../.././foundational_types.html">Sort</a> ?u.1368</span></span></div></blockquote></div></small></div>PUnit</span><span class="alectryon-token"> : </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Sort (max 1 u)</var><b>: </b><span><a href="../../.././foundational_types.html">Type</a> (max1u)</span></span></div></blockquote></div></small></div><span class="k">Sort</span></span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Sort (max 1 u)</var><b>: </b><span><a href="../../.././foundational_types.html">Type</a> (max1u)</span></span></div></blockquote></div></small></div> (</span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Sort (max 1 u)</var><b>: </b><span><a href="../../.././foundational_types.html">Type</a> (max1u)</span></span></div></blockquote></div></small></div><span class="k">max</span></span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Sort (max 1 u)</var><b>: </b><span><a href="../../.././foundational_types.html">Type</a> (max1u)</span></span></div></blockquote></div></small></div> 1 u)</span><span class="alectryon-token">))

/--
A copied implementation of `Nat.brecOn` with the `motive` properly supplied.
Notice the `noncomputable` tag; the code generator does not support the `recOn`
recursor yet, for reasons I haven't fully understood yet. This thread touches on
the topic:

https://leanprover-community.github.io/archive/stream/270676-lean4/topic/code.20generator.20does.20not.20support.20recursor.html
-/
</span><span class="alectryon-token"><span class="k">noncomputable</span></span><span class="alectryon-token"> </span><span class="alectryon-token"><span class="k">def</span></span><span class="alectryon-token"> </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>brecOn</var><b>: </b><span><span class="fn">{<span class="fn">motive</span> : <span class="fn"><a href="../../.././Init/Prelude.html#Nat">Nat</a> → <a href="../../.././foundational_types.html">Sort</a> u</span>} → <span class="fn">(<span class="fn">t</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>) → <span class="fn">(<span class="fn">(<span class="fn">t</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>) → <span class="fn"><span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex3.below">below</a> <span class="fn">t</span></span> → <span class="fn"><span class="fn">motive</span> <span class="fn">t</span></span></span></span>) → <span class="fn"><span class="fn">motive</span> <span class="fn">t</span></span></span></span></span></span></span></div></blockquote></div></small></div><span class="nv">brecOn</span></span><span class="alectryon-token"> {</span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>motive</var><b>: </b><span><span class="fn"><a href="../../.././Init/Prelude.html#Nat">Nat</a> → <a href="../../.././foundational_types.html">Sort</a> u</span></span></span></div></blockquote></div></small></div><span class="nv">motive</span></span><span class="alectryon-token"> : </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Nat</var><b>: </b><span><a href="../../.././foundational_types.html">Type</a></span></span></div></blockquote></div></small></div>Nat</span><span class="alectryon-token"> → </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Sort u</var><b>: </b><span><a href="../../.././foundational_types.html">Type</a> u</span></span></div></blockquote></div></small></div><span class="k">Sort</span></span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Sort u</var><b>: </b><span><a href="../../.././foundational_types.html">Type</a> u</span></span></div></blockquote></div></small></div> u</span><span class="alectryon-token">}
  (</span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>t</var><b>: </b><span><a href="../../.././Init/Prelude.html#Nat">Nat</a></span></span></div></blockquote></div></small></div><span class="nv">t</span></span><span class="alectryon-token"> : </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Nat</var><b>: </b><span><a href="../../.././foundational_types.html">Type</a></span></span></div></blockquote></div></small></div>Nat</span><span class="alectryon-token">) (</span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>F</var><b>: </b><span><span class="fn">(<span class="fn">t</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>) → <span class="fn"><span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex3.below">below</a> <span class="fn">t</span></span> → <span class="fn"><span class="fn">motive</span> <span class="fn">t</span></span></span></span></span></span></div></blockquote></div></small></div><span class="nv">F</span></span><span class="alectryon-token"> : (</span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>t</var><b>: </b><span><a href="../../.././Init/Prelude.html#Nat">Nat</a></span></span></div></blockquote></div></small></div><span class="nv">t</span></span><span class="alectryon-token"> : </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Nat</var><b>: </b><span><a href="../../.././foundational_types.html">Type</a></span></span></div></blockquote></div></small></div>Nat</span><span class="alectryon-token">) → @</span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>below</var><b>: </b><span><span class="fn">{<span class="fn">motive</span> : <span class="fn"><a href="../../.././Init/Prelude.html#Nat">Nat</a> → <a href="../../.././foundational_types.html">Sort</a> ?u.1398</span>} → <span class="fn"><a href="../../.././Init/Prelude.html#Nat">Nat</a> → <a href="../../.././foundational_types.html">Sort</a> (max1?u.1398)</span></span></span></span></div></blockquote></div></small></div>below</span><span class="alectryon-token"> </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>motive</var><b>: </b><span><span class="fn"><a href="../../.././Init/Prelude.html#Nat">Nat</a> → <a href="../../.././foundational_types.html">Sort</a> u</span></span></span></div></blockquote></div></small></div><span class="nv">motive</span></span><span class="alectryon-token"> </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>t</var><b>: </b><span><a href="../../.././Init/Prelude.html#Nat">Nat</a></span></span></div></blockquote></div></small></div><span class="nv">t</span></span><span class="alectryon-token"> → </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>motive</var><b>: </b><span><span class="fn"><a href="../../.././Init/Prelude.html#Nat">Nat</a> → <a href="../../.././foundational_types.html">Sort</a> u</span></span></span></div></blockquote></div></small></div><span class="nv">motive</span></span><span class="alectryon-token"> </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>t</var><b>: </b><span><a href="../../.././Init/Prelude.html#Nat">Nat</a></span></span></div></blockquote></div></small></div><span class="nv">t</span></span><span class="alectryon-token">) : </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>motive</var><b>: </b><span><span class="fn"><a href="../../.././Init/Prelude.html#Nat">Nat</a> → <a href="../../.././foundational_types.html">Sort</a> u</span></span></span></div></blockquote></div></small></div><span class="nv">motive</span></span><span class="alectryon-token"> </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>t</var><b>: </b><span><a href="../../.././Init/Prelude.html#Nat">Nat</a></span></span></div></blockquote></div></small></div><span class="nv">t</span></span><span class="alectryon-token"> :=
  (</span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Nat.recOn</var><b>: </b><span><span class="fn">{<span class="fn">motive</span> : <span class="fn"><a href="../../.././Init/Prelude.html#Nat">Nat</a> → <a href="../../.././foundational_types.html">Sort</a> ?u.1409</span>} → <span class="fn">(<span class="fn">t</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>) → <span class="fn"><span class="fn"><span class="fn">motive</span> <a href="../../.././Init/Prelude.html#Nat.zero">Nat.zero</a></span> → <span class="fn">(<span class="fn">(<span class="fn">n</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>) → <span class="fn"><span class="fn"><span class="fn">motive</span> <span class="fn">n</span></span> → <span class="fn"><span class="fn">motive</span> (<span class="fn"><a href="../../.././Init/Prelude.html#Nat.succ">Nat.succ</a> <span class="fn">n</span></span>)</span></span></span>) → <span class="fn"><span class="fn">motive</span> <span class="fn">t</span></span></span></span></span></span></span></span></div></blockquote></div></small></div>Nat.recOn</span><span class="alectryon-token"> </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>t</var><b>: </b><span><a href="../../.././Init/Prelude.html#Nat">Nat</a></span></span></div></blockquote></div></small></div><span class="nv">t</span></span><span class="alectryon-token">
    (motive := </span><span class="alectryon-token"><span class="k">fun</span></span><span class="alectryon-token"> </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>n</var><b>: </b><span><span class="fn">?m.1422</span></span></span></div></blockquote></div></small></div><span class="nv">n</span></span><span class="alectryon-token"> => </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>PProd</var><b>: </b><span><span class="fn"><a href="../../.././foundational_types.html">Sort</a> ?u.1425 → <span class="fn"><a href="../../.././foundational_types.html">Sort</a> ?u.1424 → <a href="../../.././foundational_types.html">Sort</a> (max(max1?u.1425)?u.1424)</span></span></span></span></div></blockquote></div></small></div>PProd</span><span class="alectryon-token">
      (</span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>motive</var><b>: </b><span><span class="fn"><a href="../../.././Init/Prelude.html#Nat">Nat</a> → <a href="../../.././foundational_types.html">Sort</a> u</span></span></span></div></blockquote></div></small></div><span class="nv">motive</span></span><span class="alectryon-token"> </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>n</var><b>: </b><span><span class="fn">?m.1422</span></span></span></div></blockquote></div></small></div><span class="nv">n</span></span><span class="alectryon-token">)
      (</span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Nat.recOn</var><b>: </b><span><span class="fn">{<span class="fn">motive</span> : <span class="fn"><a href="../../.././Init/Prelude.html#Nat">Nat</a> → <a href="../../.././foundational_types.html">Sort</a> ?u.1426</span>} → <span class="fn">(<span class="fn">t</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>) → <span class="fn"><span class="fn"><span class="fn">motive</span> <a href="../../.././Init/Prelude.html#Nat.zero">Nat.zero</a></span> → <span class="fn">(<span class="fn">(<span class="fn">n</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>) → <span class="fn"><span class="fn"><span class="fn">motive</span> <span class="fn">n</span></span> → <span class="fn"><span class="fn">motive</span> (<span class="fn"><a href="../../.././Init/Prelude.html#Nat.succ">Nat.succ</a> <span class="fn">n</span></span>)</span></span></span>) → <span class="fn"><span class="fn">motive</span> <span class="fn">t</span></span></span></span></span></span></span></span></div></blockquote></div></small></div>Nat.recOn</span><span class="alectryon-token"> </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>n</var><b>: </b><span><span class="fn">?m.1422</span></span></span></div></blockquote></div></small></div><span class="nv">n</span></span><span class="alectryon-token"> </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>PUnit</var><b>: </b><span><a href="../../.././foundational_types.html">Sort</a> ?u.1605</span></span></div></blockquote></div></small></div>PUnit</span><span class="alectryon-token"> </span><span class="alectryon-token"><span class="k">fun</span></span><span class="alectryon-token"> </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>n</var><b>: </b><span><span class="fn">?m.1607</span></span></span></div></blockquote></div></small></div><span class="nv">n</span></span><span class="alectryon-token"> </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>ih</var><b>: </b><span><span class="fn">?m.1610</span></span></span></div></blockquote></div></small></div><span class="nv">ih</span></span><span class="alectryon-token"> => </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>PProd</var><b>: </b><span><span class="fn"><a href="../../.././foundational_types.html">Sort</a> ?u.1613 → <span class="fn"><a href="../../.././foundational_types.html">Sort</a> ?u.1612 → <a href="../../.././foundational_types.html">Sort</a> (max(max1?u.1613)?u.1612)</span></span></span></span></div></blockquote></div></small></div>PProd</span><span class="alectryon-token"> (</span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>PProd</var><b>: </b><span><span class="fn"><a href="../../.././foundational_types.html">Sort</a> ?u.1615 → <span class="fn"><a href="../../.././foundational_types.html">Sort</a> ?u.1614 → <a href="../../.././foundational_types.html">Sort</a> (max(max1?u.1615)?u.1614)</span></span></span></span></div></blockquote></div></small></div>PProd</span><span class="alectryon-token"> (</span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>motive</var><b>: </b><span><span class="fn"><a href="../../.././Init/Prelude.html#Nat">Nat</a> → <a href="../../.././foundational_types.html">Sort</a> u</span></span></span></div></blockquote></div></small></div><span class="nv">motive</span></span><span class="alectryon-token"> </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>n</var><b>: </b><span><span class="fn">?m.1607</span></span></span></div></blockquote></div></small></div><span class="nv">n</span></span><span class="alectryon-token">) </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>ih</var><b>: </b><span><span class="fn">?m.1610</span></span></span></div></blockquote></div></small></div><span class="nv">ih</span></span><span class="alectryon-token">) </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>PUnit</var><b>: </b><span><a href="../../.././foundational_types.html">Sort</a> ?u.1616</span></span></div></blockquote></div></small></div>PUnit</span><span class="alectryon-token">))
    (zero := { </span><span class="alectryon-token">fst</span><span class="alectryon-token"> := </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>F</var><b>: </b><span><span class="fn">(<span class="fn">t</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>) → <span class="fn"><span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex3.below">below</a> <span class="fn">t</span></span> → <span class="fn"><span class="fn">motive</span> <span class="fn">t</span></span></span></span></span></span></div></blockquote></div></small></div><span class="nv">F</span></span><span class="alectryon-token"> </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Nat.zero</var><b>: </b><span><a href="../../.././Init/Prelude.html#Nat">Nat</a></span></span></div></blockquote></div></small></div>Nat.zero</span><span class="alectryon-token"> </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>PUnit.unit</var><b>: </b><span><a href="../../.././Init/Prelude.html#PUnit">PUnit</a></span></span></div></blockquote></div></small></div>PUnit.unit</span><span class="alectryon-token">, </span><span class="alectryon-token">snd</span><span class="alectryon-token"> := </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>PUnit.unit</var><b>: </b><span><a href="../../.././Init/Prelude.html#PUnit">PUnit</a></span></span></div></blockquote></div></small></div>PUnit.unit</span><span class="alectryon-token"> })
    (succ := </span><span class="alectryon-token"><span class="k">fun</span></span><span class="alectryon-token"> </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>n</var><b>: </b><span><span class="fn">?m.1485</span></span></span></div></blockquote></div></small></div><span class="nv">n</span></span><span class="alectryon-token"> </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>ih</var><b>: </b><span><span class="fn">?m.1488</span></span></span></div></blockquote></div></small></div><span class="nv">ih</span></span><span class="alectryon-token"> => {
      </span><span class="alectryon-token">fst</span><span class="alectryon-token"> := </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>F</var><b>: </b><span><span class="fn">(<span class="fn">t</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>) → <span class="fn"><span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex3.below">below</a> <span class="fn">t</span></span> → <span class="fn"><span class="fn">motive</span> <span class="fn">t</span></span></span></span></span></span></div></blockquote></div></small></div><span class="nv">F</span></span><span class="alectryon-token"> (</span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Nat.succ</var><b>: </b><span><span class="fn"><a href="../../.././Init/Prelude.html#Nat">Nat</a> → <a href="../../.././Init/Prelude.html#Nat">Nat</a></span></span></span></div></blockquote></div></small></div>Nat.succ</span><span class="alectryon-token"> </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>n</var><b>: </b><span><span class="fn">?m.1485</span></span></span></div></blockquote></div></small></div><span class="nv">n</span></span><span class="alectryon-token">) { </span><span class="alectryon-token">fst</span><span class="alectryon-token"> := </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>ih</var><b>: </b><span><span class="fn">?m.1488</span></span></span></div></blockquote></div></small></div><span class="nv">ih</span></span><span class="alectryon-token">, </span><span class="alectryon-token">snd</span><span class="alectryon-token"> := </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>PUnit.unit</var><b>: </b><span><a href="../../.././Init/Prelude.html#PUnit">PUnit</a></span></span></div></blockquote></div></small></div>PUnit.unit</span><span class="alectryon-token"> },
      </span><span class="alectryon-token">snd</span><span class="alectryon-token"> := { </span><span class="alectryon-token">fst</span><span class="alectryon-token"> := </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>ih</var><b>: </b><span><span class="fn">?m.1488</span></span></span></div></blockquote></div></small></div><span class="nv">ih</span></span><span class="alectryon-token">, </span><span class="alectryon-token">snd</span><span class="alectryon-token"> := </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>PUnit.unit</var><b>: </b><span><a href="../../.././Init/Prelude.html#PUnit">PUnit</a></span></span></div></blockquote></div></small></div>PUnit.unit</span><span class="alectryon-token"> }
    })).</span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>1</var><b>: </b><span><span class="fn">{<span class="fn">α</span> : <a href="../../.././foundational_types.html">Sort</a> ?u.1583} → <span class="fn">{<span class="fn">β</span> : <a href="../../.././foundational_types.html">Sort</a> ?u.1582} → <span class="fn"><span class="fn"><a href="../../.././Init/Prelude.html#PProd">PProd</a> <span class="fn">α</span> <span class="fn">β</span></span> → <span class="fn">α</span></span></span></span></span></span></div></blockquote></div></small></div>1</span><span class="alectryon-token">

</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="plain-lean4-lean-chk0" style="display: none" type="checkbox"></input><label class="alectryon-input" for="plain-lean4-lean-chk0"><span class="alectryon-wsp"><span class="alectryon-token"><span class="k">#check</span></span></span></label><small class="alectryon-output"><div class="alectryon-messages"><blockquote class="alectryon-message">WellFounded.fix.{u, v} {α : Sort u} {C : α → Sort v} {r : α → α → Prop} (hwf : WellFounded r)
  (F : (x : α) → ((y : α) → r y x → C y) → C x) (x : α) : C x</blockquote></div></small></span><span class="alectryon-wsp"><span class="alectryon-token"> </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>WellFounded.fix</var><b>: </b><span><span class="fn">{<span class="fn">α</span> : <a href="../../.././foundational_types.html">Sort</a> u} →
  <span class="fn">{<span class="fn">C</span> : <span class="fn"><span class="fn">α</span> → <a href="../../.././foundational_types.html">Sort</a> v</span>} → <span class="fn">{<span class="fn">r</span> : <span class="fn"><span class="fn">α</span> → <span class="fn">α</span> → <a href="../../.././foundational_types.html">Prop</a></span>} → <span class="fn"><span class="fn"><a href="../../.././Init/WF.html#WellFounded">WellFounded</a> <span class="fn">r</span></span> → <span class="fn">(<span class="fn">(<span class="fn">x</span> : <span class="fn">α</span>) → <span class="fn">(<span class="fn">(<span class="fn">y</span> : <span class="fn">α</span>) → <span class="fn"><span class="fn"><span class="fn">r</span> <span class="fn">y</span> <span class="fn">x</span></span> → <span class="fn"><span class="fn">C</span> <span class="fn">y</span></span></span></span>) → <span class="fn"><span class="fn">C</span> <span class="fn">x</span></span></span></span>) → <span class="fn">(<span class="fn">x</span> : <span class="fn">α</span>) → <span class="fn"><span class="fn">C</span> <span class="fn">x</span></span></span></span></span></span></span></span></span></span></div></blockquote></div></small></div>WellFounded.fix</span><span class="alectryon-token">

</span><span class="alectryon-token"><span class="k">end</span></span><span class="alectryon-token"> ex3

/-! #### Exercise 4

Following the examples in Section Dependent Pattern Matching, define a function
that will append two vectors. This is tricky; you will have to define an
auxiliary function.
-/

</span><span class="alectryon-token"><span class="k">namespace</span></span><span class="alectryon-token"> ex4

</span><span class="alectryon-token"><span class="k">inductive</span></span><span class="alectryon-token"> </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Vector</var><b>: </b><span><span class="fn"><a href="../../.././foundational_types.html">Type</a> u → <span class="fn"><a href="../../.././Init/Prelude.html#Nat">Nat</a> → <a href="../../.././foundational_types.html">Type</a> u</span></span></span></span></div></blockquote></div></small></div><span class="nv">Vector</span></span><span class="alectryon-token"> (</span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>α</var><b>: </b><span><a href="../../.././foundational_types.html">Type</a> u</span></span></div></blockquote></div></small></div><span class="nv">α</span></span><span class="alectryon-token"> : </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Type u</var><b>: </b><span><a href="../../.././foundational_types.html">Type</a> (u+1)</span></span></div></blockquote></div></small></div>Type u</span><span class="alectryon-token">) : </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Nat</var><b>: </b><span><a href="../../.././foundational_types.html">Type</a></span></span></div></blockquote></div></small></div>Nat</span><span class="alectryon-token"> → </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Type u</var><b>: </b><span><a href="../../.././foundational_types.html">Type</a> (u+1)</span></span></div></blockquote></div></small></div>Type u</span><span class="alectryon-token">
  | </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>nil</var><b>: </b><span><span class="fn">{<span class="fn">α</span> : <a href="../../.././foundational_types.html">Type</a> u} → <span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex4.Vector">Vector</a> <span class="fn">α</span> <span class="fn">0</span></span></span></span></span></div></blockquote></div></small></div>nil</span><span class="alectryon-token">  : </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Vector</var><b>: </b><span><span class="fn"><a href="../../.././foundational_types.html">Type</a> u → <span class="fn"><a href="../../.././Init/Prelude.html#Nat">Nat</a> → <a href="../../.././foundational_types.html">Type</a> u</span></span></span></span></div></blockquote></div></small></div><span class="nv">Vector</span></span><span class="alectryon-token"> </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>α</var><b>: </b><span><a href="../../.././foundational_types.html">Type</a> u</span></span></div></blockquote></div></small></div><span class="nv">α</span></span><span class="alectryon-token"> </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>0</var><b>: </b><span><span class="fn">?m.1675</span></span></span></div></blockquote></div></small></div>0</span><span class="alectryon-token">
  | </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>cons</var><b>: </b><span><span class="fn">{<span class="fn">α</span> : <a href="../../.././foundational_types.html">Type</a> u} → <span class="fn"><span class="fn">α</span> → <span class="fn">{<span class="fn">n</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>} → <span class="fn"><span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex4.Vector">Vector</a> <span class="fn">α</span> <span class="fn">n</span></span> → <span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex4.Vector">Vector</a> <span class="fn">α</span> (<span class="fn"><span class="fn">n</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span></span>)</span></span></span></span></span></span></span></div></blockquote></div></small></div>cons</span><span class="alectryon-token"> : </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>α</var><b>: </b><span><a href="../../.././foundational_types.html">Type</a> u</span></span></div></blockquote></div></small></div><span class="nv">α</span></span><span class="alectryon-token"> → {</span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>n</var><b>: </b><span><a href="../../.././Init/Prelude.html#Nat">Nat</a></span></span></div></blockquote></div></small></div><span class="nv">n</span></span><span class="alectryon-token"> : </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Nat</var><b>: </b><span><a href="../../.././foundational_types.html">Type</a></span></span></div></blockquote></div></small></div>Nat</span><span class="alectryon-token">} → </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Vector</var><b>: </b><span><span class="fn"><a href="../../.././foundational_types.html">Type</a> u → <span class="fn"><a href="../../.././Init/Prelude.html#Nat">Nat</a> → <a href="../../.././foundational_types.html">Type</a> u</span></span></span></span></div></blockquote></div></small></div><span class="nv">Vector</span></span><span class="alectryon-token"> </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>α</var><b>: </b><span><a href="../../.././foundational_types.html">Type</a> u</span></span></div></blockquote></div></small></div><span class="nv">α</span></span><span class="alectryon-token"> </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>n</var><b>: </b><span><a href="../../.././Init/Prelude.html#Nat">Nat</a></span></span></div></blockquote></div></small></div><span class="nv">n</span></span><span class="alectryon-token"> → </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Vector</var><b>: </b><span><span class="fn"><a href="../../.././foundational_types.html">Type</a> u → <span class="fn"><a href="../../.././Init/Prelude.html#Nat">Nat</a> → <a href="../../.././foundational_types.html">Type</a> u</span></span></span></span></div></blockquote></div></small></div><span class="nv">Vector</span></span><span class="alectryon-token"> </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>α</var><b>: </b><span><a href="../../.././foundational_types.html">Type</a> u</span></span></div></blockquote></div></small></div><span class="nv">α</span></span><span class="alectryon-token"> (</span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>n</var><b>: </b><span><a href="../../.././Init/Prelude.html#Nat">Nat</a></span></span></div></blockquote></div></small></div><span class="nv">n</span></span><span class="alectryon-token"> + </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>1</var><b>: </b><span><span class="fn">?m.1695</span></span></span></div></blockquote></div></small></div>1</span><span class="alectryon-token">)

</span><span class="alectryon-token"><span class="k">namespace</span></span><span class="alectryon-token"> Vector

/--
As long we flip the indices in our type signature in the resulting summation,
there is no need for an auxiliary function.
-/
</span><span class="alectryon-token"><span class="k">def</span></span><span class="alectryon-token"> </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>append</var><b>: </b><span><span class="fn">{<span class="fn">α</span> : <a href="../../.././foundational_types.html">Type</a> u_1} → <span class="fn">{<span class="fn">m </span>n : <a href="../../.././Init/Prelude.html#Nat">Nat</a>} → <span class="fn"><span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex4.Vector">Vector</a> <span class="fn">α</span> <span class="fn">m</span></span> → <span class="fn"><span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex4.Vector">Vector</a> <span class="fn">α</span> <span class="fn">n</span></span> → <span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex4.Vector">Vector</a> <span class="fn">α</span> (<span class="fn"><span class="fn">n</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">m</span></span>)</span></span></span></span></span></span></span></div></blockquote></div></small></div><span class="nv">append</span></span><span class="alectryon-token"> : </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Vector</var><b>: </b><span><span class="fn"><a href="../../.././foundational_types.html">Type</a> ?u.2254 → <span class="fn"><a href="../../.././Init/Prelude.html#Nat">Nat</a> → <a href="../../.././foundational_types.html">Type</a> ?u.2254</span></span></span></span></div></blockquote></div></small></div>Vector</span><span class="alectryon-token"> </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>α</var><b>: </b><span><span class="fn">?m.2235</span></span></span></div></blockquote></div></small></div><span class="nv">α</span></span><span class="alectryon-token"> </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>m</var><b>: </b><span><span class="fn">?m.2241</span></span></span></div></blockquote></div></small></div><span class="nv">m</span></span><span class="alectryon-token"> → </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Vector</var><b>: </b><span><span class="fn"><a href="../../.././foundational_types.html">Type</a> ?u.2257 → <span class="fn"><a href="../../.././Init/Prelude.html#Nat">Nat</a> → <a href="../../.././foundational_types.html">Type</a> ?u.2257</span></span></span></span></div></blockquote></div></small></div>Vector</span><span class="alectryon-token"> </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>α</var><b>: </b><span><span class="fn">?m.2235</span></span></span></div></blockquote></div></small></div><span class="nv">α</span></span><span class="alectryon-token"> </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>n</var><b>: </b><span><span class="fn">?m.2250</span></span></span></div></blockquote></div></small></div><span class="nv">n</span></span><span class="alectryon-token"> → </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Vector</var><b>: </b><span><span class="fn"><a href="../../.././foundational_types.html">Type</a> ?u.2259 → <span class="fn"><a href="../../.././Init/Prelude.html#Nat">Nat</a> → <a href="../../.././foundational_types.html">Type</a> ?u.2259</span></span></span></span></div></blockquote></div></small></div>Vector</span><span class="alectryon-token"> </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>α</var><b>: </b><span><span class="fn">?m.2235</span></span></span></div></blockquote></div></small></div><span class="nv">α</span></span><span class="alectryon-token"> (</span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>n</var><b>: </b><span><span class="fn">?m.2250</span></span></span></div></blockquote></div></small></div><span class="nv">n</span></span><span class="alectryon-token"> + </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>m</var><b>: </b><span><span class="fn">?m.2241</span></span></span></div></blockquote></div></small></div><span class="nv">m</span></span><span class="alectryon-token">)
  | </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>nil</var><b>: </b><span><span class="fn">{<span class="fn">α</span> : <a href="../../.././foundational_types.html">Type</a> ?u.2447} → <span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex4.Vector">Vector</a> <span class="fn">α</span> <span class="fn">0</span></span></span></span></span></div></blockquote></div></small></div>nil</span><span class="alectryon-token">, </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>bs</var><b>: </b><span><span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex4.Vector">Vector</a> <span class="fn">α</span> <span class="fn">n</span></span></span></span></div></blockquote></div></small></div><span class="nv">bs</span></span><span class="alectryon-token"> => </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>bs</var><b>: </b><span><span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex4.Vector">Vector</a> <span class="fn">α</span> <span class="fn">n</span></span></span></span></div></blockquote></div></small></div><span class="nv">bs</span></span><span class="alectryon-token">
  | </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>cons</var><b>: </b><span><span class="fn">{<span class="fn">α</span> : <a href="../../.././foundational_types.html">Type</a> ?u.2478} → <span class="fn"><span class="fn">α</span> → <span class="fn">{<span class="fn">n</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>} → <span class="fn"><span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex4.Vector">Vector</a> <span class="fn">α</span> <span class="fn">n</span></span> → <span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex4.Vector">Vector</a> <span class="fn">α</span> (<span class="fn"><span class="fn">n</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span></span>)</span></span></span></span></span></span></span></div></blockquote></div></small></div>cons</span><span class="alectryon-token"> </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>a</var><b>: </b><span><span class="fn">α</span></span></span></div></blockquote></div></small></div><span class="nv">a</span></span><span class="alectryon-token"> </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>as</var><b>: </b><span><span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex4.Vector">Vector</a> <span class="fn">α</span> <span class="fn">n✝</span></span></span></span></div></blockquote></div></small></div><span class="nv">as</span></span><span class="alectryon-token">, </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>bs</var><b>: </b><span><span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex4.Vector">Vector</a> <span class="fn">α</span> <span class="fn">n</span></span></span></span></div></blockquote></div></small></div><span class="nv">bs</span></span><span class="alectryon-token"> => </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>cons</var><b>: </b><span><span class="fn">{<span class="fn">α</span> : <a href="../../.././foundational_types.html">Type</a> ?u.2522} → <span class="fn"><span class="fn">α</span> → <span class="fn">{<span class="fn">n</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>} → <span class="fn"><span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex4.Vector">Vector</a> <span class="fn">α</span> <span class="fn">n</span></span> → <span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex4.Vector">Vector</a> <span class="fn">α</span> (<span class="fn"><span class="fn">n</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span></span>)</span></span></span></span></span></span></span></div></blockquote></div></small></div>cons</span><span class="alectryon-token"> </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>a</var><b>: </b><span><span class="fn">α</span></span></span></div></blockquote></div></small></div><span class="nv">a</span></span><span class="alectryon-token"> (</span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>append</var><b>: </b><span><span class="fn">{<span class="fn">α</span> : <a href="../../.././foundational_types.html">Type</a> ?u.2254} → <span class="fn">{<span class="fn">m </span>n : <a href="../../.././Init/Prelude.html#Nat">Nat</a>} → <span class="fn"><span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex4.Vector">Vector</a> <span class="fn">α</span> <span class="fn">m</span></span> → <span class="fn"><span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex4.Vector">Vector</a> <span class="fn">α</span> <span class="fn">n</span></span> → <span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex4.Vector">Vector</a> <span class="fn">α</span> (<span class="fn"><span class="fn">n</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">m</span></span>)</span></span></span></span></span></span></span></div></blockquote></div></small></div><span class="nv">append</span></span><span class="alectryon-token"> </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>as</var><b>: </b><span><span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex4.Vector">Vector</a> <span class="fn">α</span> <span class="fn">n✝</span></span></span></span></div></blockquote></div></small></div><span class="nv">as</span></span><span class="alectryon-token"> </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>bs</var><b>: </b><span><span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex4.Vector">Vector</a> <span class="fn">α</span> <span class="fn">n</span></span></span></span></div></blockquote></div></small></div><span class="nv">bs</span></span><span class="alectryon-token">)

</span><span class="alectryon-token"><span class="k">end</span></span><span class="alectryon-token"> Vector

</span><span class="alectryon-token"><span class="k">end</span></span><span class="alectryon-token"> ex4

/-! #### Exercise 5

Consider the following type of arithmetic expressions.
-/

</span><span class="alectryon-token"><span class="k">namespace</span></span><span class="alectryon-token"> ex5

</span><span class="alectryon-token"><span class="k">inductive</span></span><span class="alectryon-token"> </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Expr</var><b>: </b><span><a href="../../.././foundational_types.html">Sort</a> ?u.3220</span></span></div></blockquote></div></small></div><span class="nv">Expr</span></span><span class="alectryon-token"> </span><span class="alectryon-token"><span class="k">where</span></span><span class="alectryon-token">
  | </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>const</var><b>: </b><span><span class="fn"><a href="../../.././Init/Prelude.html#Nat">Nat</a> → <a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a></span></span></span></div></blockquote></div></small></div>const</span><span class="alectryon-token"> : </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Nat</var><b>: </b><span><a href="../../.././foundational_types.html">Type</a></span></span></div></blockquote></div></small></div>Nat</span><span class="alectryon-token"> → </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Expr</var><b>: </b><span><a href="../../.././foundational_types.html">Sort</a> ?u.3220</span></span></div></blockquote></div></small></div><span class="nv">Expr</span></span><span class="alectryon-token">
  | </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>var</var><b>: </b><span><span class="fn"><a href="../../.././Init/Prelude.html#Nat">Nat</a> → <a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a></span></span></span></div></blockquote></div></small></div>var</span><span class="alectryon-token"> : </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Nat</var><b>: </b><span><a href="../../.././foundational_types.html">Type</a></span></span></div></blockquote></div></small></div>Nat</span><span class="alectryon-token"> → </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Expr</var><b>: </b><span><a href="../../.././foundational_types.html">Sort</a> ?u.3220</span></span></div></blockquote></div></small></div><span class="nv">Expr</span></span><span class="alectryon-token">
  | </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>plus</var><b>: </b><span><span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a> → <a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a> → <a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a></span></span></span></div></blockquote></div></small></div>plus</span><span class="alectryon-token"> : </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Expr</var><b>: </b><span><a href="../../.././foundational_types.html">Sort</a> ?u.3220</span></span></div></blockquote></div></small></div><span class="nv">Expr</span></span><span class="alectryon-token"> → </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Expr</var><b>: </b><span><a href="../../.././foundational_types.html">Sort</a> ?u.3220</span></span></div></blockquote></div></small></div><span class="nv">Expr</span></span><span class="alectryon-token"> → </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Expr</var><b>: </b><span><a href="../../.././foundational_types.html">Sort</a> ?u.3220</span></span></div></blockquote></div></small></div><span class="nv">Expr</span></span><span class="alectryon-token">
  | </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>times</var><b>: </b><span><span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a> → <a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a> → <a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a></span></span></span></div></blockquote></div></small></div>times</span><span class="alectryon-token"> : </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Expr</var><b>: </b><span><a href="../../.././foundational_types.html">Sort</a> ?u.3220</span></span></div></blockquote></div></small></div><span class="nv">Expr</span></span><span class="alectryon-token"> → </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Expr</var><b>: </b><span><a href="../../.././foundational_types.html">Sort</a> ?u.3220</span></span></div></blockquote></div></small></div><span class="nv">Expr</span></span><span class="alectryon-token"> → </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Expr</var><b>: </b><span><a href="../../.././foundational_types.html">Sort</a> ?u.3220</span></span></div></blockquote></div></small></div><span class="nv">Expr</span></span><span class="alectryon-token">
  </span><span class="alectryon-token"><span class="k">deriving</span></span><span class="alectryon-token"> </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Repr</var><b>: </b><span><span class="fn"><a href="../../.././foundational_types.html">Type</a> u → <a href="../../.././foundational_types.html">Type</a> u</span></span></span></div></blockquote></div></small></div>Repr</span><span class="alectryon-token">

</span><span class="alectryon-token"><span class="k">open</span></span><span class="alectryon-token"> Expr

</span><span class="alectryon-token"><span class="k">def</span></span><span class="alectryon-token"> </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>sampleExpr</var><b>: </b><span><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a></span></span></div></blockquote></div></small></div><span class="nv">sampleExpr</span></span><span class="alectryon-token"> : </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Expr</var><b>: </b><span><a href="../../.././foundational_types.html">Type</a></span></span></div></blockquote></div></small></div>Expr</span><span class="alectryon-token"> :=
  </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>plus</var><b>: </b><span><span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a> → <a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a> → <a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a></span></span></span></div></blockquote></div></small></div>plus</span><span class="alectryon-token"> (</span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>times</var><b>: </b><span><span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a> → <a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a> → <a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a></span></span></span></div></blockquote></div></small></div>times</span><span class="alectryon-token"> (</span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>var</var><b>: </b><span><span class="fn"><a href="../../.././Init/Prelude.html#Nat">Nat</a> → <a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a></span></span></span></div></blockquote></div></small></div>var</span><span class="alectryon-token"> </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>0</var><b>: </b><span><span class="fn">?m.5431</span></span></span></div></blockquote></div></small></div>0</span><span class="alectryon-token">) (</span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>const</var><b>: </b><span><span class="fn"><a href="../../.././Init/Prelude.html#Nat">Nat</a> → <a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a></span></span></span></div></blockquote></div></small></div>const</span><span class="alectryon-token"> </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>7</var><b>: </b><span><span class="fn">?m.5440</span></span></span></div></blockquote></div></small></div>7</span><span class="alectryon-token">)) (</span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>times</var><b>: </b><span><span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a> → <a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a> → <a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a></span></span></span></div></blockquote></div></small></div>times</span><span class="alectryon-token"> (</span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>const</var><b>: </b><span><span class="fn"><a href="../../.././Init/Prelude.html#Nat">Nat</a> → <a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a></span></span></span></div></blockquote></div></small></div>const</span><span class="alectryon-token"> </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>2</var><b>: </b><span><span class="fn">?m.5445</span></span></span></div></blockquote></div></small></div>2</span><span class="alectryon-token">) (</span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>var</var><b>: </b><span><span class="fn"><a href="../../.././Init/Prelude.html#Nat">Nat</a> → <a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a></span></span></span></div></blockquote></div></small></div>var</span><span class="alectryon-token"> </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>1</var><b>: </b><span><span class="fn">?m.5450</span></span></span></div></blockquote></div></small></div>1</span><span class="alectryon-token">))

-- Here `sampleExpr` represents `(v₀ * 7) + (2 * v₁)`. Write a function that
-- evaluates such an expression, evaluating each `var n` to `v n`.

</span><span class="alectryon-token"><span class="k">def</span></span><span class="alectryon-token"> </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>eval</var><b>: </b><span><span class="fn">(<span class="fn"><a href="../../.././Init/Prelude.html#Nat">Nat</a> → <a href="../../.././Init/Prelude.html#Nat">Nat</a></span>) → <span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a> → <a href="../../.././Init/Prelude.html#Nat">Nat</a></span></span></span></span></div></blockquote></div></small></div><span class="nv">eval</span></span><span class="alectryon-token"> (</span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>v</var><b>: </b><span><span class="fn"><a href="../../.././Init/Prelude.html#Nat">Nat</a> → <a href="../../.././Init/Prelude.html#Nat">Nat</a></span></span></span></div></blockquote></div></small></div><span class="nv">v</span></span><span class="alectryon-token"> : </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Nat</var><b>: </b><span><a href="../../.././foundational_types.html">Type</a></span></span></div></blockquote></div></small></div>Nat</span><span class="alectryon-token"> → </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Nat</var><b>: </b><span><a href="../../.././foundational_types.html">Type</a></span></span></div></blockquote></div></small></div>Nat</span><span class="alectryon-token">) : </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Expr</var><b>: </b><span><a href="../../.././foundational_types.html">Type</a></span></span></div></blockquote></div></small></div>Expr</span><span class="alectryon-token"> → </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Nat</var><b>: </b><span><a href="../../.././foundational_types.html">Type</a></span></span></div></blockquote></div></small></div>Nat</span><span class="alectryon-token">
  | </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>const</var><b>: </b><span><span class="fn"><a href="../../.././Init/Prelude.html#Nat">Nat</a> → <a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a></span></span></span></div></blockquote></div></small></div>const</span><span class="alectryon-token"> </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>n</var><b>: </b><span><a href="../../.././Init/Prelude.html#Nat">Nat</a></span></span></div></blockquote></div></small></div><span class="nv">n</span></span><span class="alectryon-token">     => </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>n</var><b>: </b><span><a href="../../.././Init/Prelude.html#Nat">Nat</a></span></span></div></blockquote></div></small></div><span class="nv">n</span></span><span class="alectryon-token">
  | </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>var</var><b>: </b><span><span class="fn"><a href="../../.././Init/Prelude.html#Nat">Nat</a> → <a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a></span></span></span></div></blockquote></div></small></div>var</span><span class="alectryon-token"> </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>n</var><b>: </b><span><a href="../../.././Init/Prelude.html#Nat">Nat</a></span></span></div></blockquote></div></small></div><span class="nv">n</span></span><span class="alectryon-token">       => </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>v</var><b>: </b><span><span class="fn"><a href="../../.././Init/Prelude.html#Nat">Nat</a> → <a href="../../.././Init/Prelude.html#Nat">Nat</a></span></span></span></div></blockquote></div></small></div><span class="nv">v</span></span><span class="alectryon-token"> </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>n</var><b>: </b><span><a href="../../.././Init/Prelude.html#Nat">Nat</a></span></span></div></blockquote></div></small></div><span class="nv">n</span></span><span class="alectryon-token">
  | </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>plus</var><b>: </b><span><span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a> → <a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a> → <a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a></span></span></span></div></blockquote></div></small></div>plus</span><span class="alectryon-token"> </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>e₁</var><b>: </b><span><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a></span></span></div></blockquote></div></small></div><span class="nv">e₁</span></span><span class="alectryon-token"> </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>e₂</var><b>: </b><span><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a></span></span></div></blockquote></div></small></div><span class="nv">e₂</span></span><span class="alectryon-token">  => </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>eval</var><b>: </b><span><span class="fn">(<span class="fn"><a href="../../.././Init/Prelude.html#Nat">Nat</a> → <a href="../../.././Init/Prelude.html#Nat">Nat</a></span>) → <span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a> → <a href="../../.././Init/Prelude.html#Nat">Nat</a></span></span></span></span></div></blockquote></div></small></div><span class="nv">eval</span></span><span class="alectryon-token"> </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>v</var><b>: </b><span><span class="fn"><a href="../../.././Init/Prelude.html#Nat">Nat</a> → <a href="../../.././Init/Prelude.html#Nat">Nat</a></span></span></span></div></blockquote></div></small></div><span class="nv">v</span></span><span class="alectryon-token"> </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>e₁</var><b>: </b><span><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a></span></span></div></blockquote></div></small></div><span class="nv">e₁</span></span><span class="alectryon-token"> + </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>eval</var><b>: </b><span><span class="fn">(<span class="fn"><a href="../../.././Init/Prelude.html#Nat">Nat</a> → <a href="../../.././Init/Prelude.html#Nat">Nat</a></span>) → <span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a> → <a href="../../.././Init/Prelude.html#Nat">Nat</a></span></span></span></span></div></blockquote></div></small></div><span class="nv">eval</span></span><span class="alectryon-token"> </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>v</var><b>: </b><span><span class="fn"><a href="../../.././Init/Prelude.html#Nat">Nat</a> → <a href="../../.././Init/Prelude.html#Nat">Nat</a></span></span></span></div></blockquote></div></small></div><span class="nv">v</span></span><span class="alectryon-token"> </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>e₂</var><b>: </b><span><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a></span></span></div></blockquote></div></small></div><span class="nv">e₂</span></span><span class="alectryon-token">
  | </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>times</var><b>: </b><span><span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a> → <a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a> → <a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a></span></span></span></div></blockquote></div></small></div>times</span><span class="alectryon-token"> </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>e₁</var><b>: </b><span><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a></span></span></div></blockquote></div></small></div><span class="nv">e₁</span></span><span class="alectryon-token"> </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>e₂</var><b>: </b><span><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a></span></span></div></blockquote></div></small></div><span class="nv">e₂</span></span><span class="alectryon-token"> => </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>eval</var><b>: </b><span><span class="fn">(<span class="fn"><a href="../../.././Init/Prelude.html#Nat">Nat</a> → <a href="../../.././Init/Prelude.html#Nat">Nat</a></span>) → <span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a> → <a href="../../.././Init/Prelude.html#Nat">Nat</a></span></span></span></span></div></blockquote></div></small></div><span class="nv">eval</span></span><span class="alectryon-token"> </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>v</var><b>: </b><span><span class="fn"><a href="../../.././Init/Prelude.html#Nat">Nat</a> → <a href="../../.././Init/Prelude.html#Nat">Nat</a></span></span></span></div></blockquote></div></small></div><span class="nv">v</span></span><span class="alectryon-token"> </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>e₁</var><b>: </b><span><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a></span></span></div></blockquote></div></small></div><span class="nv">e₁</span></span><span class="alectryon-token"> * </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>eval</var><b>: </b><span><span class="fn">(<span class="fn"><a href="../../.././Init/Prelude.html#Nat">Nat</a> → <a href="../../.././Init/Prelude.html#Nat">Nat</a></span>) → <span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a> → <a href="../../.././Init/Prelude.html#Nat">Nat</a></span></span></span></span></div></blockquote></div></small></div><span class="nv">eval</span></span><span class="alectryon-token"> </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>v</var><b>: </b><span><span class="fn"><a href="../../.././Init/Prelude.html#Nat">Nat</a> → <a href="../../.././Init/Prelude.html#Nat">Nat</a></span></span></span></div></blockquote></div></small></div><span class="nv">v</span></span><span class="alectryon-token"> </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>e₂</var><b>: </b><span><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a></span></span></div></blockquote></div></small></div><span class="nv">e₂</span></span><span class="alectryon-token">

</span><span class="alectryon-token"><span class="k">def</span></span><span class="alectryon-token"> </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>sampleVal</var><b>: </b><span><span class="fn"><a href="../../.././Init/Prelude.html#Nat">Nat</a> → <a href="../../.././Init/Prelude.html#Nat">Nat</a></span></span></span></div></blockquote></div></small></div><span class="nv">sampleVal</span></span><span class="alectryon-token"> : </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Nat</var><b>: </b><span><a href="../../.././foundational_types.html">Type</a></span></span></div></blockquote></div></small></div>Nat</span><span class="alectryon-token"> → </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Nat</var><b>: </b><span><a href="../../.././foundational_types.html">Type</a></span></span></div></blockquote></div></small></div>Nat</span><span class="alectryon-token">
  | </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>0</var><b>: </b><span><a href="../../.././Init/Prelude.html#Nat">Nat</a></span></span></div></blockquote></div></small></div>0</span><span class="alectryon-token"> => </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>5</var><b>: </b><span><span class="fn">?m.6130</span></span></span></div></blockquote></div></small></div>5</span><span class="alectryon-token">
  | </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>1</var><b>: </b><span><a href="../../.././Init/Prelude.html#Nat">Nat</a></span></span></div></blockquote></div></small></div>1</span><span class="alectryon-token"> => </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>6</var><b>: </b><span><span class="fn">?m.6144</span></span></span></div></blockquote></div></small></div>6</span><span class="alectryon-token">
  | _ => </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>0</var><b>: </b><span><span class="fn">?m.6156</span></span></span></div></blockquote></div></small></div>0</span><span class="alectryon-token">

-- Try it out. You should get 47 here.
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="plain-lean4-lean-chk1" style="display: none" type="checkbox"></input><label class="alectryon-input" for="plain-lean4-lean-chk1"><span class="alectryon-wsp"><span class="alectryon-token"><span class="k">#eval</span></span></span></label><small class="alectryon-output"><div class="alectryon-messages"><blockquote class="alectryon-message">47
</blockquote></div></small></span><span class="alectryon-wsp"><span class="alectryon-token"> </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>eval</var><b>: </b><span><span class="fn">(<span class="fn"><a href="../../.././Init/Prelude.html#Nat">Nat</a> → <a href="../../.././Init/Prelude.html#Nat">Nat</a></span>) → <span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a> → <a href="../../.././Init/Prelude.html#Nat">Nat</a></span></span></span></span></div></blockquote></div></small></div>eval</span><span class="alectryon-token"> </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>sampleVal</var><b>: </b><span><span class="fn"><a href="../../.././Init/Prelude.html#Nat">Nat</a> → <a href="../../.././Init/Prelude.html#Nat">Nat</a></span></span></span></div></blockquote></div></small></div>sampleVal</span><span class="alectryon-token"> </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>sampleExpr</var><b>: </b><span><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a></span></span></div></blockquote></div></small></div>sampleExpr</span><span class="alectryon-token">

/-! ##### Constant Fusion

Implement "constant fusion," a procedure that simplifies subterms like `5 + 7
to `12`. Using the auxiliary function `simpConst`, define a function "fuse": to
simplify a plus or a times, first simplify the arguments recursively, and then
apply `simpConst` to try to simplify the result.
-/

</span><span class="alectryon-token"><span class="k">def</span></span><span class="alectryon-token"> </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>simpConst</var><b>: </b><span><span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a> → <a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a></span></span></span></div></blockquote></div></small></div><span class="nv">simpConst</span></span><span class="alectryon-token"> : </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Expr</var><b>: </b><span><a href="../../.././foundational_types.html">Type</a></span></span></div></blockquote></div></small></div>Expr</span><span class="alectryon-token"> → </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Expr</var><b>: </b><span><a href="../../.././foundational_types.html">Type</a></span></span></div></blockquote></div></small></div>Expr</span><span class="alectryon-token">
  | </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>plus</var><b>: </b><span><span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a> → <a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a> → <a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a></span></span></span></div></blockquote></div></small></div>plus</span><span class="alectryon-token"> (</span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>const</var><b>: </b><span><span class="fn"><a href="../../.././Init/Prelude.html#Nat">Nat</a> → <a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a></span></span></span></div></blockquote></div></small></div>const</span><span class="alectryon-token"> </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>n₁</var><b>: </b><span><a href="../../.././Init/Prelude.html#Nat">Nat</a></span></span></div></blockquote></div></small></div><span class="nv">n₁</span></span><span class="alectryon-token">) (</span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>const</var><b>: </b><span><span class="fn"><a href="../../.././Init/Prelude.html#Nat">Nat</a> → <a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a></span></span></span></div></blockquote></div></small></div>const</span><span class="alectryon-token"> </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>n₂</var><b>: </b><span><a href="../../.././Init/Prelude.html#Nat">Nat</a></span></span></div></blockquote></div></small></div><span class="nv">n₂</span></span><span class="alectryon-token">)  => </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>const</var><b>: </b><span><span class="fn"><a href="../../.././Init/Prelude.html#Nat">Nat</a> → <a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a></span></span></span></div></blockquote></div></small></div>const</span><span class="alectryon-token"> (</span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>n₁</var><b>: </b><span><a href="../../.././Init/Prelude.html#Nat">Nat</a></span></span></div></blockquote></div></small></div><span class="nv">n₁</span></span><span class="alectryon-token"> + </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>n₂</var><b>: </b><span><a href="../../.././Init/Prelude.html#Nat">Nat</a></span></span></div></blockquote></div></small></div><span class="nv">n₂</span></span><span class="alectryon-token">)
  | </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>times</var><b>: </b><span><span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a> → <a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a> → <a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a></span></span></span></div></blockquote></div></small></div>times</span><span class="alectryon-token"> (</span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>const</var><b>: </b><span><span class="fn"><a href="../../.././Init/Prelude.html#Nat">Nat</a> → <a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a></span></span></span></div></blockquote></div></small></div>const</span><span class="alectryon-token"> </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>n₁</var><b>: </b><span><a href="../../.././Init/Prelude.html#Nat">Nat</a></span></span></div></blockquote></div></small></div><span class="nv">n₁</span></span><span class="alectryon-token">) (</span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>const</var><b>: </b><span><span class="fn"><a href="../../.././Init/Prelude.html#Nat">Nat</a> → <a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a></span></span></span></div></blockquote></div></small></div>const</span><span class="alectryon-token"> </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>n₂</var><b>: </b><span><a href="../../.././Init/Prelude.html#Nat">Nat</a></span></span></div></blockquote></div></small></div><span class="nv">n₂</span></span><span class="alectryon-token">) => </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>const</var><b>: </b><span><span class="fn"><a href="../../.././Init/Prelude.html#Nat">Nat</a> → <a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a></span></span></span></div></blockquote></div></small></div>const</span><span class="alectryon-token"> (</span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>n₁</var><b>: </b><span><a href="../../.././Init/Prelude.html#Nat">Nat</a></span></span></div></blockquote></div></small></div><span class="nv">n₁</span></span><span class="alectryon-token"> * </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>n₂</var><b>: </b><span><a href="../../.././Init/Prelude.html#Nat">Nat</a></span></span></div></blockquote></div></small></div><span class="nv">n₂</span></span><span class="alectryon-token">)
  | </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>e</var><b>: </b><span><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a></span></span></div></blockquote></div></small></div><span class="nv">e</span></span><span class="alectryon-token">                           => </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>e</var><b>: </b><span><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a></span></span></div></blockquote></div></small></div><span class="nv">e</span></span><span class="alectryon-token">

</span><span class="alectryon-token"><span class="k">def</span></span><span class="alectryon-token"> </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>fuse</var><b>: </b><span><span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a> → <a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a></span></span></span></div></blockquote></div></small></div><span class="nv">fuse</span></span><span class="alectryon-token"> : </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Expr</var><b>: </b><span><a href="../../.././foundational_types.html">Type</a></span></span></div></blockquote></div></small></div>Expr</span><span class="alectryon-token"> → </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Expr</var><b>: </b><span><a href="../../.././foundational_types.html">Type</a></span></span></div></blockquote></div></small></div>Expr</span><span class="alectryon-token">
  | </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>plus</var><b>: </b><span><span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a> → <a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a> → <a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a></span></span></span></div></blockquote></div></small></div>plus</span><span class="alectryon-token"> </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>e₁</var><b>: </b><span><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a></span></span></div></blockquote></div></small></div><span class="nv">e₁</span></span><span class="alectryon-token"> </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>e₂</var><b>: </b><span><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a></span></span></div></blockquote></div></small></div><span class="nv">e₂</span></span><span class="alectryon-token">  => </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>simpConst</var><b>: </b><span><span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a> → <a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a></span></span></span></div></blockquote></div></small></div>simpConst</span><span class="alectryon-token"> $ </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>plus</var><b>: </b><span><span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a> → <a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a> → <a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a></span></span></span></div></blockquote></div></small></div>plus</span><span class="alectryon-token"> (</span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>fuse</var><b>: </b><span><span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a> → <a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a></span></span></span></div></blockquote></div></small></div><span class="nv">fuse</span></span><span class="alectryon-token"> </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>e₁</var><b>: </b><span><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a></span></span></div></blockquote></div></small></div><span class="nv">e₁</span></span><span class="alectryon-token">) (</span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>fuse</var><b>: </b><span><span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a> → <a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a></span></span></span></div></blockquote></div></small></div><span class="nv">fuse</span></span><span class="alectryon-token"> </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>e₂</var><b>: </b><span><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a></span></span></div></blockquote></div></small></div><span class="nv">e₂</span></span><span class="alectryon-token">)
  | </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>times</var><b>: </b><span><span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a> → <a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a> → <a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a></span></span></span></div></blockquote></div></small></div>times</span><span class="alectryon-token"> </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>e₁</var><b>: </b><span><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a></span></span></div></blockquote></div></small></div><span class="nv">e₁</span></span><span class="alectryon-token"> </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>e₂</var><b>: </b><span><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a></span></span></div></blockquote></div></small></div><span class="nv">e₂</span></span><span class="alectryon-token"> => </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>simpConst</var><b>: </b><span><span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a> → <a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a></span></span></span></div></blockquote></div></small></div>simpConst</span><span class="alectryon-token"> $ </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>times</var><b>: </b><span><span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a> → <a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a> → <a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a></span></span></span></div></blockquote></div></small></div>times</span><span class="alectryon-token"> (</span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>fuse</var><b>: </b><span><span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a> → <a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a></span></span></span></div></blockquote></div></small></div><span class="nv">fuse</span></span><span class="alectryon-token"> </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>e₁</var><b>: </b><span><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a></span></span></div></blockquote></div></small></div><span class="nv">e₁</span></span><span class="alectryon-token">) (</span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>fuse</var><b>: </b><span><span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a> → <a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a></span></span></span></div></blockquote></div></small></div><span class="nv">fuse</span></span><span class="alectryon-token"> </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>e₂</var><b>: </b><span><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a></span></span></div></blockquote></div></small></div><span class="nv">e₂</span></span><span class="alectryon-token">)
  | </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>e</var><b>: </b><span><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a></span></span></div></blockquote></div></small></div><span class="nv">e</span></span><span class="alectryon-token">           => </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>e</var><b>: </b><span><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a></span></span></div></blockquote></div></small></div><span class="nv">e</span></span><span class="alectryon-token">

</span><span class="alectryon-token"><span class="k">theorem</span></span><span class="alectryon-token"> </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>simpConst_eq</var><b>: </b><span><span class="fn">∀ (<span class="fn">v</span> : <span class="fn"><a href="../../.././Init/Prelude.html#Nat">Nat</a> → <a href="../../.././Init/Prelude.html#Nat">Nat</a></span>) (<span class="fn">e</span> : <a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a>), <span class="fn"><span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.eval">eval</a> <span class="fn">v</span> (<span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.simpConst">simpConst</a> <span class="fn">e</span></span>)</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.eval">eval</a> <span class="fn">v</span> <span class="fn">e</span></span></span></span></span></span></div></blockquote></div></small></div><span class="nv">simpConst_eq</span></span><span class="alectryon-token"> (</span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>v</var><b>: </b><span><span class="fn"><a href="../../.././Init/Prelude.html#Nat">Nat</a> → <a href="../../.././Init/Prelude.html#Nat">Nat</a></span></span></span></div></blockquote></div></small></div><span class="nv">v</span></span><span class="alectryon-token"> : </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Nat</var><b>: </b><span><a href="../../.././foundational_types.html">Type</a></span></span></div></blockquote></div></small></div>Nat</span><span class="alectryon-token"> → </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Nat</var><b>: </b><span><a href="../../.././foundational_types.html">Type</a></span></span></div></blockquote></div></small></div>Nat</span><span class="alectryon-token">)
  : ∀ </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>e</var><b>: </b><span><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a></span></span></div></blockquote></div></small></div><span class="nv">e</span></span><span class="alectryon-token"> : </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Expr</var><b>: </b><span><a href="../../.././foundational_types.html">Type</a></span></span></div></blockquote></div></small></div>Expr</span><span class="alectryon-token">, </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>eval</var><b>: </b><span><span class="fn">(<span class="fn"><a href="../../.././Init/Prelude.html#Nat">Nat</a> → <a href="../../.././Init/Prelude.html#Nat">Nat</a></span>) → <span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a> → <a href="../../.././Init/Prelude.html#Nat">Nat</a></span></span></span></span></div></blockquote></div></small></div>eval</span><span class="alectryon-token"> </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>v</var><b>: </b><span><span class="fn"><a href="../../.././Init/Prelude.html#Nat">Nat</a> → <a href="../../.././Init/Prelude.html#Nat">Nat</a></span></span></span></div></blockquote></div></small></div><span class="nv">v</span></span><span class="alectryon-token"> (</span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>simpConst</var><b>: </b><span><span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a> → <a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a></span></span></span></div></blockquote></div></small></div>simpConst</span><span class="alectryon-token"> </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>e</var><b>: </b><span><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a></span></span></div></blockquote></div></small></div><span class="nv">e</span></span><span class="alectryon-token">) = </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>eval</var><b>: </b><span><span class="fn">(<span class="fn"><a href="../../.././Init/Prelude.html#Nat">Nat</a> → <a href="../../.././Init/Prelude.html#Nat">Nat</a></span>) → <span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a> → <a href="../../.././Init/Prelude.html#Nat">Nat</a></span></span></span></span></div></blockquote></div></small></div>eval</span><span class="alectryon-token"> </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>v</var><b>: </b><span><span class="fn"><a href="../../.././Init/Prelude.html#Nat">Nat</a> → <a href="../../.././Init/Prelude.html#Nat">Nat</a></span></span></span></div></blockquote></div></small></div><span class="nv">v</span></span><span class="alectryon-token"> </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>e</var><b>: </b><span><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a></span></span></div></blockquote></div></small></div><span class="nv">e</span></span><span class="alectryon-token"> := </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="plain-lean4-lean-chk2" style="display: none" type="checkbox"></input><label class="alectryon-input" for="plain-lean4-lean-chk2"><span class="alectryon-wsp"><span class="alectryon-token"><span class="k">by</span></span></span></label><small class="alectryon-output"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"></div><span class="goal-separator"><hr><span class="goal-name"></span></hr></span><div class="goal-conclusion">Goals accomplished! 🐙</div></blockquote></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="plain-lean4-lean-chk3" style="display: none" type="checkbox"></input><label class="alectryon-input" for="plain-lean4-lean-chk3"><span class="alectryon-wsp"><span class="alectryon-token">
  </span></span></label><small class="alectryon-output"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>v</var><span class="hyp-type"><b>: </b><span><span class="fn"><a href="../../.././Init/Prelude.html#Nat">Nat</a> → <a href="../../.././Init/Prelude.html#Nat">Nat</a></span></span></span></span><br></br></div><span class="goal-separator"><hr><span class="goal-name"></span></hr></span><div class="goal-conclusion"><span class="fn">∀ (<span class="fn">e</span> : <a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a>), <span class="fn"><span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.eval">eval</a> <span class="fn">v</span> (<span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.simpConst">simpConst</a> <span class="fn">e</span></span>)</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.eval">eval</a> <span class="fn">v</span> <span class="fn">e</span></span></span></span></div></blockquote></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="plain-lean4-lean-chk4" style="display: none" type="checkbox"></input><label class="alectryon-input" for="plain-lean4-lean-chk4"><span class="alectryon-wsp"><span class="alectryon-token"><span class="k">intro</span></span><span class="alectryon-token"> </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>e</var><b>: </b><span><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a></span></span></div></blockquote></div></small></div><span class="nv">e</span></span></span></label><small class="alectryon-output"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>v</var><span class="hyp-type"><b>: </b><span><span class="fn"><a href="../../.././Init/Prelude.html#Nat">Nat</a> → <a href="../../.././Init/Prelude.html#Nat">Nat</a></span></span></span></span><br></br><span><var>e</var><span class="hyp-type"><b>: </b><span><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a></span></span></span><br></br></div><span class="goal-separator"><hr><span class="goal-name"></span></hr></span><div class="goal-conclusion"><span class="fn"><span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.eval">eval</a> <span class="fn">v</span> (<span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.simpConst">simpConst</a> <span class="fn">e</span></span>)</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.eval">eval</a> <span class="fn">v</span> <span class="fn">e</span></span></span></div></blockquote></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="plain-lean4-lean-chk5" style="display: none" type="checkbox"></input><label class="alectryon-input" for="plain-lean4-lean-chk5"><span class="alectryon-wsp"><span class="alectryon-token">
  </span></span></label><small class="alectryon-output"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>v</var><span class="hyp-type"><b>: </b><span><span class="fn"><a href="../../.././Init/Prelude.html#Nat">Nat</a> → <a href="../../.././Init/Prelude.html#Nat">Nat</a></span></span></span></span><br></br></div><span class="goal-separator"><hr><span class="goal-name"></span></hr></span><div class="goal-conclusion"><span class="fn">∀ (<span class="fn">e</span> : <a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a>), <span class="fn"><span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.eval">eval</a> <span class="fn">v</span> (<span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.simpConst">simpConst</a> <span class="fn">e</span></span>)</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.eval">eval</a> <span class="fn">v</span> <span class="fn">e</span></span></span></span></div></blockquote></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="plain-lean4-lean-chk6" style="display: none" type="checkbox"></input><label class="alectryon-input" for="plain-lean4-lean-chk6"><span class="alectryon-wsp"><span class="alectryon-token"><span class="k">unfold</span></span><span class="alectryon-token"> </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>simpConst</var><b>: </b><span><span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a> → <a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a></span></span></span></div></blockquote></div></small></div>simpConst</span></span></label><small class="alectryon-output"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>v</var><span class="hyp-type"><b>: </b><span><span class="fn"><a href="../../.././Init/Prelude.html#Nat">Nat</a> → <a href="../../.././Init/Prelude.html#Nat">Nat</a></span></span></span></span><br></br><span><var>e</var><span class="hyp-type"><b>: </b><span><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a></span></span></span><br></br></div><span class="goal-separator"><hr><span class="goal-name"></span></hr></span><div class="goal-conclusion"><span class="fn"><span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.eval">eval</a> <span class="fn">v</span>
    (<span class="fn">match <span class="fn">e</span> with
    | <span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr.times">plus</a> (<span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr.const">const</a> <span class="fn">n₁</span></span>) (<span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr.const">const</a> <span class="fn">n₂</span></span>)</span> =&gt <span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr.const">const</a> (<span class="fn"><span class="fn">n₁</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">n₂</span></span>)</span>
    | <span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr.times">times</a> (<span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr.const">const</a> <span class="fn">n₁</span></span>) (<span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr.const">const</a> <span class="fn">n₂</span></span>)</span> =&gt <span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr.const">const</a> (<span class="fn"><span class="fn">n₁</span> <a href="../../.././Init/Prelude.html#HMul.hMul">*</a> <span class="fn">n₂</span></span>)</span>
    | <span class="fn">e</span> =&gt <span class="fn">e</span></span>)</span> <a href="../../.././Init/Prelude.html#Eq">=</a>   <span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.eval">eval</a> <span class="fn">v</span> <span class="fn">e</span></span></span></div></blockquote></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="plain-lean4-lean-chk7" style="display: none" type="checkbox"></input><label class="alectryon-input" for="plain-lean4-lean-chk7"><span class="alectryon-wsp"><span class="alectryon-token">
  </span></span></label><small class="alectryon-output"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>v</var><span class="hyp-type"><b>: </b><span><span class="fn"><a href="../../.././Init/Prelude.html#Nat">Nat</a> → <a href="../../.././Init/Prelude.html#Nat">Nat</a></span></span></span></span><br></br></div><span class="goal-separator"><hr><span class="goal-name"></span></hr></span><div class="goal-conclusion"><span class="fn">∀ (<span class="fn">e</span> : <a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a>), <span class="fn"><span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.eval">eval</a> <span class="fn">v</span> (<span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.simpConst">simpConst</a> <span class="fn">e</span></span>)</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.eval">eval</a> <span class="fn">v</span> <span class="fn">e</span></span></span></span></div></blockquote></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="plain-lean4-lean-chk8" style="display: none" type="checkbox"></input><label class="alectryon-input" for="plain-lean4-lean-chk8"><span class="alectryon-wsp"><span class="alectryon-token"><span class="k">repeat</span></span><span class="alectryon-token"> </span></span></label><small class="alectryon-output"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>v</var><span class="hyp-type"><b>: </b><span><span class="fn"><a href="../../.././Init/Prelude.html#Nat">Nat</a> → <a href="../../.././Init/Prelude.html#Nat">Nat</a></span></span></span></span><br></br><span><var>e</var><span class="hyp-type"><b>: </b><span><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a></span></span></span><br></br></div><span class="goal-separator"><hr><span class="goal-name"></span></hr></span><div class="goal-conclusion"><span class="fn"><span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.eval">eval</a> <span class="fn">v</span>
    (<span class="fn">match <span class="fn">e</span> with
    | <span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr.times">plus</a> (<span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr.const">const</a> <span class="fn">n₁</span></span>) (<span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr.const">const</a> <span class="fn">n₂</span></span>)</span> =&gt <span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr.const">const</a> (<span class="fn"><span class="fn">n₁</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">n₂</span></span>)</span>
    | <span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr.times">times</a> (<span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr.const">const</a> <span class="fn">n₁</span></span>) (<span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr.const">const</a> <span class="fn">n₂</span></span>)</span> =&gt <span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr.const">const</a> (<span class="fn"><span class="fn">n₁</span> <a href="../../.././Init/Prelude.html#HMul.hMul">*</a> <span class="fn">n₂</span></span>)</span>
    | <span class="fn">e</span> =&gt <span class="fn">e</span></span>)</span> <a href="../../.././Init/Prelude.html#Eq">=</a>   <span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.eval">eval</a> <span class="fn">v</span> <span class="fn">e</span></span></span></div></blockquote></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="plain-lean4-lean-chk9" style="display: none" type="checkbox"></input><label class="alectryon-input" for="plain-lean4-lean-chk9"><span class="alectryon-wsp"><span class="alectryon-token">{</span></span></label><small class="alectryon-output"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>v</var><span class="hyp-type"><b>: </b><span><span class="fn"><a href="../../.././Init/Prelude.html#Nat">Nat</a> → <a href="../../.././Init/Prelude.html#Nat">Nat</a></span></span></span></span><br></br><span><var>e</var><span class="hyp-type"><b>: </b><span><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a></span></span></span><br></br></div><span class="goal-separator"><hr><span class="goal-name"></span></hr></span><div class="goal-conclusion"><span class="fn"><span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.eval">eval</a> <span class="fn">v</span>
    (<span class="fn">match <span class="fn">e</span> with
    | <span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr.times">plus</a> (<span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr.const">const</a> <span class="fn">n₁</span></span>) (<span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr.const">const</a> <span class="fn">n₂</span></span>)</span> =&gt <span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr.const">const</a> (<span class="fn"><span class="fn">n₁</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">n₂</span></span>)</span>
    | <span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr.times">times</a> (<span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr.const">const</a> <span class="fn">n₁</span></span>) (<span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr.const">const</a> <span class="fn">n₂</span></span>)</span> =&gt <span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr.const">const</a> (<span class="fn"><span class="fn">n₁</span> <a href="../../.././Init/Prelude.html#HMul.hMul">*</a> <span class="fn">n₂</span></span>)</span>
    | <span class="fn">e</span> =&gt <span class="fn">e</span></span>)</span> <a href="../../.././Init/Prelude.html#Eq">=</a>   <span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.eval">eval</a> <span class="fn">v</span> <span class="fn">e</span></span></span></div></blockquote></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="plain-lean4-lean-chk10" style="display: none" type="checkbox"></input><label class="alectryon-input" for="plain-lean4-lean-chk10"><span class="alectryon-wsp"><span class="alectryon-token"> </span></span></label><small class="alectryon-output"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>v</var><span class="hyp-type"><b>: </b><span><span class="fn"><a href="../../.././Init/Prelude.html#Nat">Nat</a> → <a href="../../.././Init/Prelude.html#Nat">Nat</a></span></span></span></span><br></br><span><var>e</var><span class="hyp-type"><b>: </b><span><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a></span></span></span><br></br></div><span class="goal-separator"><hr><span class="goal-name"></span></hr></span><div class="goal-conclusion"><span class="fn"><span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.eval">eval</a> <span class="fn">v</span>
    (<span class="fn">match <span class="fn">e</span> with
    | <span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr.times">plus</a> (<span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr.const">const</a> <span class="fn">n₁</span></span>) (<span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr.const">const</a> <span class="fn">n₂</span></span>)</span> =&gt <span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr.const">const</a> (<span class="fn"><span class="fn">n₁</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">n₂</span></span>)</span>
    | <span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr.times">times</a> (<span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr.const">const</a> <span class="fn">n₁</span></span>) (<span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr.const">const</a> <span class="fn">n₂</span></span>)</span> =&gt <span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr.const">const</a> (<span class="fn"><span class="fn">n₁</span> <a href="../../.././Init/Prelude.html#HMul.hMul">*</a> <span class="fn">n₂</span></span>)</span>
    | <span class="fn">e</span> =&gt <span class="fn">e</span></span>)</span> <a href="../../.././Init/Prelude.html#Eq">=</a>   <span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.eval">eval</a> <span class="fn">v</span> <span class="fn">e</span></span></span></div></blockquote></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="plain-lean4-lean-chk11" style="display: none" type="checkbox"></input><label class="alectryon-input" for="plain-lean4-lean-chk11"><span class="alectryon-wsp"><span class="alectryon-token"><span class="k">unfold</span></span><span class="alectryon-token"> </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>eval</var><b>: </b><span><span class="fn">(<span class="fn"><a href="../../.././Init/Prelude.html#Nat">Nat</a> → <a href="../../.././Init/Prelude.html#Nat">Nat</a></span>) → <span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a> → <a href="../../.././Init/Prelude.html#Nat">Nat</a></span></span></span></span></div></blockquote></div></small></div>eval</span></span></label><small class="alectryon-output"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>v</var><span class="hyp-type"><b>: </b><span><span class="fn"><a href="../../.././Init/Prelude.html#Nat">Nat</a> → <a href="../../.././Init/Prelude.html#Nat">Nat</a></span></span></span></span><br></br><span><var>e</var><span class="hyp-type"><b>: </b><span><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a></span></span></span><br></br></div><span class="goal-separator"><hr><span class="goal-name"></span></hr></span><div class="goal-conclusion"><span class="fn">(<span class="fn">match
    <span class="fn">match <span class="fn">e</span> with
    | <span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr.times">plus</a> (<span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr.const">const</a> <span class="fn">n₁</span></span>) (<span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr.const">const</a> <span class="fn">n₂</span></span>)</span> =&gt <span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr.const">const</a> (<span class="fn"><span class="fn">n₁</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">n₂</span></span>)</span>
    | <span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr.times">times</a> (<span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr.const">const</a> <span class="fn">n₁</span></span>) (<span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr.const">const</a> <span class="fn">n₂</span></span>)</span> =&gt <span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr.const">const</a> (<span class="fn"><span class="fn">n₁</span> <a href="../../.././Init/Prelude.html#HMul.hMul">*</a> <span class="fn">n₂</span></span>)</span>
    | <span class="fn">e</span> =&gt <span class="fn">e</span></span> with
  | <span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr.var">const</a> <span class="fn">n</span></span> =&gt <span class="fn">n</span>
  | <span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr.var">var</a> <span class="fn">n</span></span> =&gt <span class="fn"><span class="fn">v</span> <span class="fn">n</span></span>
  | <span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr.times">plus</a> <span class="fn">e₁</span> <span class="fn">e₂</span></span> =&gt <span class="fn"><span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.eval">eval</a> <span class="fn">v</span> <span class="fn">e₁</span></span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.eval">eval</a> <span class="fn">v</span> <span class="fn">e₂</span></span></span>
  | <span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr.times">times</a> <span class="fn">e₁</span> <span class="fn">e₂</span></span> =&gt <span class="fn"><span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.eval">eval</a> <span class="fn">v</span> <span class="fn">e₁</span></span> <a href="../../.././Init/Prelude.html#HMul.hMul">*</a> <span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.eval">eval</a> <span class="fn">v</span> <span class="fn">e₂</span></span></span></span>) <a href="../../.././Init/Prelude.html#Eq">=</a>   <span class="fn">match <span class="fn">e</span> with
  | <span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr.var">const</a> <span class="fn">n</span></span> =&gt <span class="fn">n</span>
  | <span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr.var">var</a> <span class="fn">n</span></span> =&gt <span class="fn"><span class="fn">v</span> <span class="fn">n</span></span>
  | <span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr.times">plus</a> <span class="fn">e₁</span> <span class="fn">e₂</span></span> =&gt <span class="fn"><span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.eval">eval</a> <span class="fn">v</span> <span class="fn">e₁</span></span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.eval">eval</a> <span class="fn">v</span> <span class="fn">e₂</span></span></span>
  | <span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr.times">times</a> <span class="fn">e₁</span> <span class="fn">e₂</span></span> =&gt <span class="fn"><span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.eval">eval</a> <span class="fn">v</span> <span class="fn">e₁</span></span> <a href="../../.././Init/Prelude.html#HMul.hMul">*</a> <span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.eval">eval</a> <span class="fn">v</span> <span class="fn">e₂</span></span></span></span></span></div></blockquote></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="plain-lean4-lean-chk12" style="display: none" type="checkbox"></input><label class="alectryon-input" for="plain-lean4-lean-chk12"><span class="alectryon-wsp"><span class="alectryon-token"> }</span></span></label><small class="alectryon-output"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"></div><span class="goal-separator"><hr><span class="goal-name"></span></hr></span><div class="goal-conclusion">Goals accomplished! 🐙</div></blockquote></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="plain-lean4-lean-chk13" style="display: none" type="checkbox"></input><label class="alectryon-input" for="plain-lean4-lean-chk13"><span class="alectryon-wsp"><span class="alectryon-token">
  </span></span></label><small class="alectryon-output"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>v</var><span class="hyp-type"><b>: </b><span><span class="fn"><a href="../../.././Init/Prelude.html#Nat">Nat</a> → <a href="../../.././Init/Prelude.html#Nat">Nat</a></span></span></span></span><br></br></div><span class="goal-separator"><hr><span class="goal-name"></span></hr></span><div class="goal-conclusion"><span class="fn">∀ (<span class="fn">e</span> : <a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a>), <span class="fn"><span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.eval">eval</a> <span class="fn">v</span> (<span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.simpConst">simpConst</a> <span class="fn">e</span></span>)</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.eval">eval</a> <span class="fn">v</span> <span class="fn">e</span></span></span></span></div></blockquote></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="plain-lean4-lean-chk14" style="display: none" type="checkbox"></input><label class="alectryon-input" for="plain-lean4-lean-chk14"><span class="alectryon-wsp"><span class="alectryon-token"><span class="k">match</span></span><span class="alectryon-token"> </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>h</var><b>: </b><span><span class="fn"><span class="fn">e</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr.const">const</a> <span class="fn">n</span></span></span></span></span></div></blockquote></div></small></div><span class="nv">h</span></span><span class="alectryon-token"> : </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>e</var><b>: </b><span><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a></span></span></div></blockquote></div></small></div><span class="nv">e</span></span><span class="alectryon-token"> </span><span class="alectryon-token"><span class="k">with</span></span><span class="alectryon-token">
  </span></span></label><small class="alectryon-output"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>v</var><span class="hyp-type"><b>: </b><span><span class="fn"><a href="../../.././Init/Prelude.html#Nat">Nat</a> → <a href="../../.././Init/Prelude.html#Nat">Nat</a></span></span></span></span><br></br><span><var>e</var><span class="hyp-type"><b>: </b><span><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a></span></span></span><br></br></div><span class="goal-separator"><hr><span class="goal-name"></span></hr></span><div class="goal-conclusion"><span class="fn"><span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.eval">eval</a> <span class="fn">v</span>
    (<span class="fn">match <span class="fn">e</span> with
    | <span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr.times">plus</a> (<span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr.const">const</a> <span class="fn">n₁</span></span>) (<span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr.const">const</a> <span class="fn">n₂</span></span>)</span> =&gt <span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr.const">const</a> (<span class="fn"><span class="fn">n₁</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">n₂</span></span>)</span>
    | <span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr.times">times</a> (<span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr.const">const</a> <span class="fn">n₁</span></span>) (<span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr.const">const</a> <span class="fn">n₂</span></span>)</span> =&gt <span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr.const">const</a> (<span class="fn"><span class="fn">n₁</span> <a href="../../.././Init/Prelude.html#HMul.hMul">*</a> <span class="fn">n₂</span></span>)</span>
    | <span class="fn">e</span> =&gt <span class="fn">e</span></span>)</span> <a href="../../.././Init/Prelude.html#Eq">=</a>   <span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.eval">eval</a> <span class="fn">v</span> <span class="fn">e</span></span></span></div></blockquote></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="plain-lean4-lean-chk15" style="display: none" type="checkbox"></input><label class="alectryon-input" for="plain-lean4-lean-chk15"><span class="alectryon-wsp"><span class="alectryon-token">| </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>const</var><b>: </b><span><span class="fn"><a href="../../.././Init/Prelude.html#Nat">Nat</a> → <a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a></span></span></span></div></blockquote></div></small></div>const</span><span class="alectryon-token"> </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>n</var><b>: </b><span><a href="../../.././Init/Prelude.html#Nat">Nat</a></span></span></div></blockquote></div></small></div><span class="nv">n</span></span><span class="alectryon-token">
  | </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>var</var><b>: </b><span><span class="fn"><a href="../../.././Init/Prelude.html#Nat">Nat</a> → <a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a></span></span></span></div></blockquote></div></small></div>var</span><span class="alectryon-token"> </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>n</var><b>: </b><span><a href="../../.././Init/Prelude.html#Nat">Nat</a></span></span></div></blockquote></div></small></div><span class="nv">n</span></span><span class="alectryon-token">
  | </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>plus</var><b>: </b><span><span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a> → <a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a> → <a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a></span></span></span></div></blockquote></div></small></div>plus</span><span class="alectryon-token">  (</span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>const</var><b>: </b><span><span class="fn"><a href="../../.././Init/Prelude.html#Nat">Nat</a> → <a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a></span></span></span></div></blockquote></div></small></div>const</span><span class="alectryon-token">   _) (</span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>const</var><b>: </b><span><span class="fn"><a href="../../.././Init/Prelude.html#Nat">Nat</a> → <a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a></span></span></span></div></blockquote></div></small></div>const</span><span class="alectryon-token"> _)
  | </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>plus</var><b>: </b><span><span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a> → <a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a> → <a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a></span></span></span></div></blockquote></div></small></div>plus</span><span class="alectryon-token">  (</span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>var</var><b>: </b><span><span class="fn"><a href="../../.././Init/Prelude.html#Nat">Nat</a> → <a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a></span></span></span></div></blockquote></div></small></div>var</span><span class="alectryon-token">     _) _
  | </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>plus</var><b>: </b><span><span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a> → <a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a> → <a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a></span></span></span></div></blockquote></div></small></div>plus</span><span class="alectryon-token">  (</span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>plus</var><b>: </b><span><span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a> → <a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a> → <a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a></span></span></span></div></blockquote></div></small></div>plus</span><span class="alectryon-token">  _ _) _
  | </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>plus</var><b>: </b><span><span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a> → <a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a> → <a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a></span></span></span></div></blockquote></div></small></div>plus</span><span class="alectryon-token">  (</span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>times</var><b>: </b><span><span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a> → <a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a> → <a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a></span></span></span></div></blockquote></div></small></div>times</span><span class="alectryon-token"> _ _) _
  | </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>times</var><b>: </b><span><span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a> → <a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a> → <a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a></span></span></span></div></blockquote></div></small></div>times</span><span class="alectryon-token"> (</span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>const</var><b>: </b><span><span class="fn"><a href="../../.././Init/Prelude.html#Nat">Nat</a> → <a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a></span></span></span></div></blockquote></div></small></div>const</span><span class="alectryon-token">   _) (</span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>const</var><b>: </b><span><span class="fn"><a href="../../.././Init/Prelude.html#Nat">Nat</a> → <a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a></span></span></span></div></blockquote></div></small></div>const</span><span class="alectryon-token"> _)
  | </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>times</var><b>: </b><span><span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a> → <a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a> → <a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a></span></span></span></div></blockquote></div></small></div>times</span><span class="alectryon-token"> (</span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>var</var><b>: </b><span><span class="fn"><a href="../../.././Init/Prelude.html#Nat">Nat</a> → <a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a></span></span></span></div></blockquote></div></small></div>var</span><span class="alectryon-token">     _) _
  | </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>times</var><b>: </b><span><span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a> → <a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a> → <a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a></span></span></span></div></blockquote></div></small></div>times</span><span class="alectryon-token"> (</span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>plus</var><b>: </b><span><span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a> → <a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a> → <a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a></span></span></span></div></blockquote></div></small></div>plus</span><span class="alectryon-token">  _ _) _
  | </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>times</var><b>: </b><span><span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a> → <a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a> → <a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a></span></span></span></div></blockquote></div></small></div>times</span><span class="alectryon-token"> (</span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>times</var><b>: </b><span><span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a> → <a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a> → <a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a></span></span></span></div></blockquote></div></small></div>times</span><span class="alectryon-token"> _ _) _ =></span></span></label><small class="alectryon-output"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>v</var><span class="hyp-type"><b>: </b><span><span class="fn"><a href="../../.././Init/Prelude.html#Nat">Nat</a> → <a href="../../.././Init/Prelude.html#Nat">Nat</a></span></span></span></span><br></br><span><var>e</var><span class="hyp-type"><b>: </b><span><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a></span></span></span><br></br><span><var>a✝¹, a✝</var><span class="hyp-type"><b>: </b><span><a href="../../.././Init/Prelude.html#Nat">Nat</a></span></span></span><br></br><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="fn"><span class="fn">e</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr.plus">plus</a> (<span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr.const">const</a> <span class="fn">a✝¹</span></span>) (<span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr.const">const</a> <span class="fn">a✝</span></span>)</span></span></span></span></span><br></br></div><span class="goal-separator"><hr><span class="goal-name"></span></hr></span><div class="goal-conclusion"><span class="fn"><span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.eval">eval</a> <span class="fn">v</span>
    (<span class="fn">match <span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr.plus">plus</a> (<span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr.const">const</a> <span class="fn">a✝¹</span></span>) (<span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr.const">const</a> <span class="fn">a✝</span></span>)</span> with
    | <span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr.times">plus</a> (<span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr.const">const</a> <span class="fn">n₁</span></span>) (<span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr.const">const</a> <span class="fn">n₂</span></span>)</span> =&gt <span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr.const">const</a> (<span class="fn"><span class="fn">n₁</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">n₂</span></span>)</span>
    | <span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr.times">times</a> (<span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr.const">const</a> <span class="fn">n₁</span></span>) (<span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr.const">const</a> <span class="fn">n₂</span></span>)</span> =&gt <span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr.const">const</a> (<span class="fn"><span class="fn">n₁</span> <a href="../../.././Init/Prelude.html#HMul.hMul">*</a> <span class="fn">n₂</span></span>)</span>
    | <span class="fn">e</span> =&gt <span class="fn">e</span></span>)</span> <a href="../../.././Init/Prelude.html#Eq">=</a>   <span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.eval">eval</a> <span class="fn">v</span> (<span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr.plus">plus</a> (<span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr.const">const</a> <span class="fn">a✝¹</span></span>) (<span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr.const">const</a> <span class="fn">a✝</span></span>)</span>)</span></span></div></blockquote></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="plain-lean4-lean-chk16" style="display: none" type="checkbox"></input><label class="alectryon-input" for="plain-lean4-lean-chk16"><span class="alectryon-wsp"><span class="alectryon-token"> </span></span></label><small class="alectryon-output"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>v</var><span class="hyp-type"><b>: </b><span><span class="fn"><a href="../../.././Init/Prelude.html#Nat">Nat</a> → <a href="../../.././Init/Prelude.html#Nat">Nat</a></span></span></span></span><br></br><span><var>e</var><span class="hyp-type"><b>: </b><span><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a></span></span></span><br></br></div><span class="goal-separator"><hr><span class="goal-name"></span></hr></span><div class="goal-conclusion"><span class="fn"><span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.eval">eval</a> <span class="fn">v</span>
    (<span class="fn">match <span class="fn">e</span> with
    | <span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr.times">plus</a> (<span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr.const">const</a> <span class="fn">n₁</span></span>) (<span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr.const">const</a> <span class="fn">n₂</span></span>)</span> =&gt <span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr.const">const</a> (<span class="fn"><span class="fn">n₁</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">n₂</span></span>)</span>
    | <span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr.times">times</a> (<span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr.const">const</a> <span class="fn">n₁</span></span>) (<span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr.const">const</a> <span class="fn">n₂</span></span>)</span> =&gt <span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr.const">const</a> (<span class="fn"><span class="fn">n₁</span> <a href="../../.././Init/Prelude.html#HMul.hMul">*</a> <span class="fn">n₂</span></span>)</span>
    | <span class="fn">e</span> =&gt <span class="fn">e</span></span>)</span> <a href="../../.././Init/Prelude.html#Eq">=</a>   <span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.eval">eval</a> <span class="fn">v</span> <span class="fn">e</span></span></span></div></blockquote></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="plain-lean4-lean-chk17" style="display: none" type="checkbox"></input><label class="alectryon-input" for="plain-lean4-lean-chk17"><span class="alectryon-wsp"><span class="alectryon-token"><span class="k">rfl</span></span></span></label><small class="alectryon-output"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"></div><span class="goal-separator"><hr><span class="goal-name"></span></hr></span><div class="goal-conclusion">Goals accomplished! 🐙</div></blockquote></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="plain-lean4-lean-chk18" style="display: none" type="checkbox"></input><label class="alectryon-input" for="plain-lean4-lean-chk18"><span class="alectryon-wsp"><span class="alectryon-token">
  </span></span></label><small class="alectryon-output"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>v</var><span class="hyp-type"><b>: </b><span><span class="fn"><a href="../../.././Init/Prelude.html#Nat">Nat</a> → <a href="../../.././Init/Prelude.html#Nat">Nat</a></span></span></span></span><br></br><span><var>e</var><span class="hyp-type"><b>: </b><span><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a></span></span></span><br></br></div><span class="goal-separator"><hr><span class="goal-name"></span></hr></span><div class="goal-conclusion"><span class="fn"><span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.eval">eval</a> <span class="fn">v</span>
    (<span class="fn">match <span class="fn">e</span> with
    | <span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr.times">plus</a> (<span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr.const">const</a> <span class="fn">n₁</span></span>) (<span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr.const">const</a> <span class="fn">n₂</span></span>)</span> =&gt <span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr.const">const</a> (<span class="fn"><span class="fn">n₁</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">n₂</span></span>)</span>
    | <span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr.times">times</a> (<span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr.const">const</a> <span class="fn">n₁</span></span>) (<span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr.const">const</a> <span class="fn">n₂</span></span>)</span> =&gt <span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr.const">const</a> (<span class="fn"><span class="fn">n₁</span> <a href="../../.././Init/Prelude.html#HMul.hMul">*</a> <span class="fn">n₂</span></span>)</span>
    | <span class="fn">e</span> =&gt <span class="fn">e</span></span>)</span> <a href="../../.././Init/Prelude.html#Eq">=</a>   <span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.eval">eval</a> <span class="fn">v</span> <span class="fn">e</span></span></span></div></blockquote></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="plain-lean4-lean-chk19" style="display: none" type="checkbox"></input><label class="alectryon-input" for="plain-lean4-lean-chk19"><span class="alectryon-wsp"><span class="alectryon-token">| </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>plus</var><b>: </b><span><span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a> → <a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a> → <a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a></span></span></span></div></blockquote></div></small></div>plus</span><span class="alectryon-token">  _ (</span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>var</var><b>: </b><span><span class="fn"><a href="../../.././Init/Prelude.html#Nat">Nat</a> → <a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a></span></span></span></div></blockquote></div></small></div>var</span><span class="alectryon-token">     _)
  | </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>plus</var><b>: </b><span><span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a> → <a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a> → <a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a></span></span></span></div></blockquote></div></small></div>plus</span><span class="alectryon-token">  _ (</span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>plus</var><b>: </b><span><span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a> → <a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a> → <a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a></span></span></span></div></blockquote></div></small></div>plus</span><span class="alectryon-token">  _ _)
  | </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>plus</var><b>: </b><span><span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a> → <a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a> → <a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a></span></span></span></div></blockquote></div></small></div>plus</span><span class="alectryon-token">  _ (</span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>times</var><b>: </b><span><span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a> → <a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a> → <a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a></span></span></span></div></blockquote></div></small></div>times</span><span class="alectryon-token"> _ _)
  | </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>times</var><b>: </b><span><span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a> → <a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a> → <a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a></span></span></span></div></blockquote></div></small></div>times</span><span class="alectryon-token"> _ (</span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>var</var><b>: </b><span><span class="fn"><a href="../../.././Init/Prelude.html#Nat">Nat</a> → <a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a></span></span></span></div></blockquote></div></small></div>var</span><span class="alectryon-token">     _)
  | </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>times</var><b>: </b><span><span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a> → <a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a> → <a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a></span></span></span></div></blockquote></div></small></div>times</span><span class="alectryon-token"> _ (</span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>plus</var><b>: </b><span><span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a> → <a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a> → <a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a></span></span></span></div></blockquote></div></small></div>plus</span><span class="alectryon-token">  _ _)
  | </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>times</var><b>: </b><span><span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a> → <a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a> → <a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a></span></span></span></div></blockquote></div></small></div>times</span><span class="alectryon-token"> _ (</span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>times</var><b>: </b><span><span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a> → <a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a> → <a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a></span></span></span></div></blockquote></div></small></div>times</span><span class="alectryon-token"> _ _) =></span></span></label><small class="alectryon-output"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>v</var><span class="hyp-type"><b>: </b><span><span class="fn"><a href="../../.././Init/Prelude.html#Nat">Nat</a> → <a href="../../.././Init/Prelude.html#Nat">Nat</a></span></span></span></span><br></br><span><var>e, a✝², a✝¹, a✝</var><span class="hyp-type"><b>: </b><span><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a></span></span></span><br></br><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="fn"><span class="fn">e</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr.times">times</a> <span class="fn">a✝²</span> (<span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr.times">times</a> <span class="fn">a✝¹</span> <span class="fn">a✝</span></span>)</span></span></span></span></span><br></br></div><span class="goal-separator"><hr><span class="goal-name"></span></hr></span><div class="goal-conclusion"><span class="fn"><span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.eval">eval</a> <span class="fn">v</span>
    (<span class="fn">match <span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr.times">times</a> <span class="fn">a✝²</span> (<span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr.times">times</a> <span class="fn">a✝¹</span> <span class="fn">a✝</span></span>)</span> with
    | <span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr.times">plus</a> (<span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr.const">const</a> <span class="fn">n₁</span></span>) (<span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr.const">const</a> <span class="fn">n₂</span></span>)</span> =&gt <span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr.const">const</a> (<span class="fn"><span class="fn">n₁</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">n₂</span></span>)</span>
    | <span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr.times">times</a> (<span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr.const">const</a> <span class="fn">n₁</span></span>) (<span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr.const">const</a> <span class="fn">n₂</span></span>)</span> =&gt <span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr.const">const</a> (<span class="fn"><span class="fn">n₁</span> <a href="../../.././Init/Prelude.html#HMul.hMul">*</a> <span class="fn">n₂</span></span>)</span>
    | <span class="fn">e</span> =&gt <span class="fn">e</span></span>)</span> <a href="../../.././Init/Prelude.html#Eq">=</a>   <span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.eval">eval</a> <span class="fn">v</span> (<span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr.times">times</a> <span class="fn">a✝²</span> (<span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr.times">times</a> <span class="fn">a✝¹</span> <span class="fn">a✝</span></span>)</span>)</span></span></div></blockquote></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="plain-lean4-lean-chk20" style="display: none" type="checkbox"></input><label class="alectryon-input" for="plain-lean4-lean-chk20"><span class="alectryon-wsp"><span class="alectryon-token"> </span></span></label><small class="alectryon-output"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>v</var><span class="hyp-type"><b>: </b><span><span class="fn"><a href="../../.././Init/Prelude.html#Nat">Nat</a> → <a href="../../.././Init/Prelude.html#Nat">Nat</a></span></span></span></span><br></br><span><var>e</var><span class="hyp-type"><b>: </b><span><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a></span></span></span><br></br></div><span class="goal-separator"><hr><span class="goal-name"></span></hr></span><div class="goal-conclusion"><span class="fn"><span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.eval">eval</a> <span class="fn">v</span>
    (<span class="fn">match <span class="fn">e</span> with
    | <span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr.times">plus</a> (<span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr.const">const</a> <span class="fn">n₁</span></span>) (<span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr.const">const</a> <span class="fn">n₂</span></span>)</span> =&gt <span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr.const">const</a> (<span class="fn"><span class="fn">n₁</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">n₂</span></span>)</span>
    | <span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr.times">times</a> (<span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr.const">const</a> <span class="fn">n₁</span></span>) (<span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr.const">const</a> <span class="fn">n₂</span></span>)</span> =&gt <span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr.const">const</a> (<span class="fn"><span class="fn">n₁</span> <a href="../../.././Init/Prelude.html#HMul.hMul">*</a> <span class="fn">n₂</span></span>)</span>
    | <span class="fn">e</span> =&gt <span class="fn">e</span></span>)</span> <a href="../../.././Init/Prelude.html#Eq">=</a>   <span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.eval">eval</a> <span class="fn">v</span> <span class="fn">e</span></span></span></div></blockquote></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="plain-lean4-lean-chk21" style="display: none" type="checkbox"></input><label class="alectryon-input" for="plain-lean4-lean-chk21"><span class="alectryon-wsp"><span class="alectryon-token"><span class="k">simp</span></span><span class="alectryon-token"> </span><span class="alectryon-token"><span class="k">only</span></span></span></label><small class="alectryon-output"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"></div><span class="goal-separator"><hr><span class="goal-name"></span></hr></span><div class="goal-conclusion">Goals accomplished! 🐙</div></blockquote></div></small></span><span class="alectryon-wsp"><span class="alectryon-token">
  

</span><span class="alectryon-token"><span class="k">theorem</span></span><span class="alectryon-token"> </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>fuse_eq</var><b>: </b><span><span class="fn">∀ (<span class="fn">v</span> : <span class="fn"><a href="../../.././Init/Prelude.html#Nat">Nat</a> → <a href="../../.././Init/Prelude.html#Nat">Nat</a></span>) (<span class="fn">e</span> : <a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a>), <span class="fn"><span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.eval">eval</a> <span class="fn">v</span> (<span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.fuse">fuse</a> <span class="fn">e</span></span>)</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.eval">eval</a> <span class="fn">v</span> <span class="fn">e</span></span></span></span></span></span></div></blockquote></div></small></div><span class="nv">fuse_eq</span></span><span class="alectryon-token"> (</span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>v</var><b>: </b><span><span class="fn"><a href="../../.././Init/Prelude.html#Nat">Nat</a> → <a href="../../.././Init/Prelude.html#Nat">Nat</a></span></span></span></div></blockquote></div></small></div><span class="nv">v</span></span><span class="alectryon-token"> : </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Nat</var><b>: </b><span><a href="../../.././foundational_types.html">Type</a></span></span></div></blockquote></div></small></div>Nat</span><span class="alectryon-token"> → </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Nat</var><b>: </b><span><a href="../../.././foundational_types.html">Type</a></span></span></div></blockquote></div></small></div>Nat</span><span class="alectryon-token">)
  : ∀ </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>e</var><b>: </b><span><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a></span></span></div></blockquote></div></small></div><span class="nv">e</span></span><span class="alectryon-token"> : </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>Expr</var><b>: </b><span><a href="../../.././foundational_types.html">Type</a></span></span></div></blockquote></div></small></div>Expr</span><span class="alectryon-token">, </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>eval</var><b>: </b><span><span class="fn">(<span class="fn"><a href="../../.././Init/Prelude.html#Nat">Nat</a> → <a href="../../.././Init/Prelude.html#Nat">Nat</a></span>) → <span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a> → <a href="../../.././Init/Prelude.html#Nat">Nat</a></span></span></span></span></div></blockquote></div></small></div>eval</span><span class="alectryon-token"> </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>v</var><b>: </b><span><span class="fn"><a href="../../.././Init/Prelude.html#Nat">Nat</a> → <a href="../../.././Init/Prelude.html#Nat">Nat</a></span></span></span></div></blockquote></div></small></div><span class="nv">v</span></span><span class="alectryon-token"> (</span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>fuse</var><b>: </b><span><span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a> → <a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a></span></span></span></div></blockquote></div></small></div>fuse</span><span class="alectryon-token"> </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>e</var><b>: </b><span><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a></span></span></div></blockquote></div></small></div><span class="nv">e</span></span><span class="alectryon-token">) = </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>eval</var><b>: </b><span><span class="fn">(<span class="fn"><a href="../../.././Init/Prelude.html#Nat">Nat</a> → <a href="../../.././Init/Prelude.html#Nat">Nat</a></span>) → <span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a> → <a href="../../.././Init/Prelude.html#Nat">Nat</a></span></span></span></span></div></blockquote></div></small></div>eval</span><span class="alectryon-token"> </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>v</var><b>: </b><span><span class="fn"><a href="../../.././Init/Prelude.html#Nat">Nat</a> → <a href="../../.././Init/Prelude.html#Nat">Nat</a></span></span></span></div></blockquote></div></small></div><span class="nv">v</span></span><span class="alectryon-token"> </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>e</var><b>: </b><span><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a></span></span></div></blockquote></div></small></div><span class="nv">e</span></span><span class="alectryon-token"> := </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="plain-lean4-lean-chk22" style="display: none" type="checkbox"></input><label class="alectryon-input" for="plain-lean4-lean-chk22"><span class="alectryon-wsp"><span class="alectryon-token"><span class="k">by</span></span></span></label><small class="alectryon-output"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"></div><span class="goal-separator"><hr><span class="goal-name"></span></hr></span><div class="goal-conclusion">Goals accomplished! 🐙</div></blockquote></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="plain-lean4-lean-chk23" style="display: none" type="checkbox"></input><label class="alectryon-input" for="plain-lean4-lean-chk23"><span class="alectryon-wsp"><span class="alectryon-token">
  </span></span></label><small class="alectryon-output"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>v</var><span class="hyp-type"><b>: </b><span><span class="fn"><a href="../../.././Init/Prelude.html#Nat">Nat</a> → <a href="../../.././Init/Prelude.html#Nat">Nat</a></span></span></span></span><br></br></div><span class="goal-separator"><hr><span class="goal-name"></span></hr></span><div class="goal-conclusion"><span class="fn">∀ (<span class="fn">e</span> : <a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a>), <span class="fn"><span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.eval">eval</a> <span class="fn">v</span> (<span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.fuse">fuse</a> <span class="fn">e</span></span>)</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.eval">eval</a> <span class="fn">v</span> <span class="fn">e</span></span></span></span></div></blockquote></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="plain-lean4-lean-chk24" style="display: none" type="checkbox"></input><label class="alectryon-input" for="plain-lean4-lean-chk24"><span class="alectryon-wsp"><span class="alectryon-token"><span class="k">intro</span></span><span class="alectryon-token"> </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>e</var><b>: </b><span><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a></span></span></div></blockquote></div></small></div><span class="nv">e</span></span></span></label><small class="alectryon-output"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>v</var><span class="hyp-type"><b>: </b><span><span class="fn"><a href="../../.././Init/Prelude.html#Nat">Nat</a> → <a href="../../.././Init/Prelude.html#Nat">Nat</a></span></span></span></span><br></br><span><var>e</var><span class="hyp-type"><b>: </b><span><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a></span></span></span><br></br></div><span class="goal-separator"><hr><span class="goal-name"></span></hr></span><div class="goal-conclusion"><span class="fn"><span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.eval">eval</a> <span class="fn">v</span> (<span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.fuse">fuse</a> <span class="fn">e</span></span>)</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.eval">eval</a> <span class="fn">v</span> <span class="fn">e</span></span></span></div></blockquote></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="plain-lean4-lean-chk25" style="display: none" type="checkbox"></input><label class="alectryon-input" for="plain-lean4-lean-chk25"><span class="alectryon-wsp"><span class="alectryon-token">
  </span></span></label><small class="alectryon-output"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>v</var><span class="hyp-type"><b>: </b><span><span class="fn"><a href="../../.././Init/Prelude.html#Nat">Nat</a> → <a href="../../.././Init/Prelude.html#Nat">Nat</a></span></span></span></span><br></br></div><span class="goal-separator"><hr><span class="goal-name"></span></hr></span><div class="goal-conclusion"><span class="fn">∀ (<span class="fn">e</span> : <a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a>), <span class="fn"><span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.eval">eval</a> <span class="fn">v</span> (<span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.fuse">fuse</a> <span class="fn">e</span></span>)</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.eval">eval</a> <span class="fn">v</span> <span class="fn">e</span></span></span></span></div></blockquote></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="plain-lean4-lean-chk26" style="display: none" type="checkbox"></input><label class="alectryon-input" for="plain-lean4-lean-chk26"><span class="alectryon-wsp"><span class="alectryon-token"><span class="k">induction</span></span><span class="alectryon-token"> </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>e</var><b>: </b><span><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a></span></span></div></blockquote></div></small></div><span class="nv">e</span></span><span class="alectryon-token"> </span><span class="alectryon-token"><span class="k">with</span></span><span class="alectryon-token">
  </span></span></label><small class="alectryon-output"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>v</var><span class="hyp-type"><b>: </b><span><span class="fn"><a href="../../.././Init/Prelude.html#Nat">Nat</a> → <a href="../../.././Init/Prelude.html#Nat">Nat</a></span></span></span></span><br></br><span><var>e</var><span class="hyp-type"><b>: </b><span><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a></span></span></span><br></br></div><span class="goal-separator"><hr><span class="goal-name"></span></hr></span><div class="goal-conclusion"><span class="fn"><span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.eval">eval</a> <span class="fn">v</span> (<span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.fuse">fuse</a> <span class="fn">e</span></span>)</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.eval">eval</a> <span class="fn">v</span> <span class="fn">e</span></span></span></div></blockquote></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="plain-lean4-lean-chk27" style="display: none" type="checkbox"></input><label class="alectryon-input" for="plain-lean4-lean-chk27"><span class="alectryon-wsp"><span class="alectryon-token">| </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>const</var><b>: </b><span><span class="fn"><a href="../../.././Init/Prelude.html#Nat">Nat</a> → <a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a></span></span></span></div></blockquote></div></small></div>const</span><span class="alectryon-token"> </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>n</var><b>: </b><span><a href="../../.././Init/Prelude.html#Nat">Nat</a></span></span></div></blockquote></div></small></div><span class="nv">n</span></span><span class="alectryon-token"> </span></span></label><small class="alectryon-output"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>v</var><span class="hyp-type"><b>: </b><span><span class="fn"><a href="../../.././Init/Prelude.html#Nat">Nat</a> → <a href="../../.././Init/Prelude.html#Nat">Nat</a></span></span></span></span><br></br><span><var>n</var><span class="hyp-type"><b>: </b><span><a href="../../.././Init/Prelude.html#Nat">Nat</a></span></span></span><br></br></div><span class="goal-separator"><hr><span class="goal-name">const</span></hr></span><div class="goal-conclusion"><span class="fn"><span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.eval">eval</a> <span class="fn">v</span> (<span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.fuse">fuse</a> (<span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr.const">const</a> <span class="fn">n</span></span>)</span>)</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.eval">eval</a> <span class="fn">v</span> (<span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr.const">const</a> <span class="fn">n</span></span>)</span></span></div></blockquote></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="plain-lean4-lean-chk28" style="display: none" type="checkbox"></input><label class="alectryon-input" for="plain-lean4-lean-chk28"><span class="alectryon-wsp"><span class="alectryon-token">| </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>var</var><b>: </b><span><span class="fn"><a href="../../.././Init/Prelude.html#Nat">Nat</a> → <a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a></span></span></span></div></blockquote></div></small></div>var</span><span class="alectryon-token"> </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>n</var><b>: </b><span><a href="../../.././Init/Prelude.html#Nat">Nat</a></span></span></div></blockquote></div></small></div><span class="nv">n</span></span><span class="alectryon-token"> => </span></span></label><small class="alectryon-output"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>v</var><span class="hyp-type"><b>: </b><span><span class="fn"><a href="../../.././Init/Prelude.html#Nat">Nat</a> → <a href="../../.././Init/Prelude.html#Nat">Nat</a></span></span></span></span><br></br><span><var>n</var><span class="hyp-type"><b>: </b><span><a href="../../.././Init/Prelude.html#Nat">Nat</a></span></span></span><br></br></div><span class="goal-separator"><hr><span class="goal-name">var</span></hr></span><div class="goal-conclusion"><span class="fn"><span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.eval">eval</a> <span class="fn">v</span> (<span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.fuse">fuse</a> (<span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr.var">var</a> <span class="fn">n</span></span>)</span>)</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.eval">eval</a> <span class="fn">v</span> (<span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr.var">var</a> <span class="fn">n</span></span>)</span></span></div></blockquote></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="plain-lean4-lean-chk29" style="display: none" type="checkbox"></input><label class="alectryon-input" for="plain-lean4-lean-chk29"><span class="alectryon-wsp"><span class="alectryon-token"><span class="k">unfold</span></span><span class="alectryon-token"> </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>fuse</var><b>: </b><span><span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a> → <a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a></span></span></span></div></blockquote></div></small></div>fuse</span></span></label><small class="alectryon-output"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>v</var><span class="hyp-type"><b>: </b><span><span class="fn"><a href="../../.././Init/Prelude.html#Nat">Nat</a> → <a href="../../.././Init/Prelude.html#Nat">Nat</a></span></span></span></span><br></br><span><var>n</var><span class="hyp-type"><b>: </b><span><a href="../../.././Init/Prelude.html#Nat">Nat</a></span></span></span><br></br></div><span class="goal-separator"><hr><span class="goal-name">var</span></hr></span><div class="goal-conclusion"><span class="fn"><span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.eval">eval</a> <span class="fn">v</span> (<span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr.var">var</a> <span class="fn">n</span></span>)</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.eval">eval</a> <span class="fn">v</span> (<span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr.var">var</a> <span class="fn">n</span></span>)</span></span></div></blockquote></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="plain-lean4-lean-chk30" style="display: none" type="checkbox"></input><label class="alectryon-input" for="plain-lean4-lean-chk30"><span class="alectryon-wsp"><span class="alectryon-token">;</span></span></label><small class="alectryon-output"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>v</var><span class="hyp-type"><b>: </b><span><span class="fn"><a href="../../.././Init/Prelude.html#Nat">Nat</a> → <a href="../../.././Init/Prelude.html#Nat">Nat</a></span></span></span></span><br></br><span><var>n</var><span class="hyp-type"><b>: </b><span><a href="../../.././Init/Prelude.html#Nat">Nat</a></span></span></span><br></br></div><span class="goal-separator"><hr><span class="goal-name">var</span></hr></span><div class="goal-conclusion"><span class="fn"><span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.eval">eval</a> <span class="fn">v</span> (<span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr.var">var</a> <span class="fn">n</span></span>)</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.eval">eval</a> <span class="fn">v</span> (<span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr.var">var</a> <span class="fn">n</span></span>)</span></span></div></blockquote></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="plain-lean4-lean-chk31" style="display: none" type="checkbox"></input><label class="alectryon-input" for="plain-lean4-lean-chk31"><span class="alectryon-wsp"><span class="alectryon-token"> </span></span></label><small class="alectryon-output"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>v</var><span class="hyp-type"><b>: </b><span><span class="fn"><a href="../../.././Init/Prelude.html#Nat">Nat</a> → <a href="../../.././Init/Prelude.html#Nat">Nat</a></span></span></span></span><br></br><span><var>n</var><span class="hyp-type"><b>: </b><span><a href="../../.././Init/Prelude.html#Nat">Nat</a></span></span></span><br></br></div><span class="goal-separator"><hr><span class="goal-name">const</span></hr></span><div class="goal-conclusion"><span class="fn"><span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.eval">eval</a> <span class="fn">v</span> (<span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.fuse">fuse</a> (<span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr.const">const</a> <span class="fn">n</span></span>)</span>)</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.eval">eval</a> <span class="fn">v</span> (<span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr.const">const</a> <span class="fn">n</span></span>)</span></span></div></blockquote></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="plain-lean4-lean-chk32" style="display: none" type="checkbox"></input><label class="alectryon-input" for="plain-lean4-lean-chk32"><span class="alectryon-wsp"><span class="alectryon-token"><span class="k">rfl</span></span></span></label><small class="alectryon-output"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"></div><span class="goal-separator"><hr><span class="goal-name"></span></hr></span><div class="goal-conclusion">Goals accomplished! 🐙</div></blockquote></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="plain-lean4-lean-chk33" style="display: none" type="checkbox"></input><label class="alectryon-input" for="plain-lean4-lean-chk33"><span class="alectryon-wsp"><span class="alectryon-token">
  </span></span></label><small class="alectryon-output"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>v</var><span class="hyp-type"><b>: </b><span><span class="fn"><a href="../../.././Init/Prelude.html#Nat">Nat</a> → <a href="../../.././Init/Prelude.html#Nat">Nat</a></span></span></span></span><br></br><span><var>e</var><span class="hyp-type"><b>: </b><span><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a></span></span></span><br></br></div><span class="goal-separator"><hr><span class="goal-name"></span></hr></span><div class="goal-conclusion"><span class="fn"><span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.eval">eval</a> <span class="fn">v</span> (<span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.fuse">fuse</a> <span class="fn">e</span></span>)</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.eval">eval</a> <span class="fn">v</span> <span class="fn">e</span></span></span></div></blockquote></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="plain-lean4-lean-chk34" style="display: none" type="checkbox"></input><label class="alectryon-input" for="plain-lean4-lean-chk34"><span class="alectryon-wsp"><span class="alectryon-token">| </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>plus</var><b>: </b><span><span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a> → <a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a> → <a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a></span></span></span></div></blockquote></div></small></div>plus</span><span class="alectryon-token"> </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>e₁</var><b>: </b><span><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a></span></span></div></blockquote></div></small></div><span class="nv">e₁</span></span><span class="alectryon-token"> </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>e₂</var><b>: </b><span><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a></span></span></div></blockquote></div></small></div><span class="nv">e₂</span></span><span class="alectryon-token"> </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>he₁</var><b>: </b><span><span class="fn"><span class="fn">?m.15623</span> <span class="fn">e₁</span></span></span></span></div></blockquote></div></small></div><span class="nv">he₁</span></span><span class="alectryon-token"> </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>he₂</var><b>: </b><span><span class="fn"><span class="fn">?m.15623</span> <span class="fn">e₂</span></span></span></span></div></blockquote></div></small></div><span class="nv">he₂</span></span><span class="alectryon-token"> </span></span></label><small class="alectryon-output"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>v</var><span class="hyp-type"><b>: </b><span><span class="fn"><a href="../../.././Init/Prelude.html#Nat">Nat</a> → <a href="../../.././Init/Prelude.html#Nat">Nat</a></span></span></span></span><br></br><span><var>e₁, e₂</var><span class="hyp-type"><b>: </b><span><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a></span></span></span><br></br><span><var>he₁</var><span class="hyp-type"><b>: </b><span><span class="fn"><span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.eval">eval</a> <span class="fn">v</span> (<span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.fuse">fuse</a> <span class="fn">e₁</span></span>)</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.eval">eval</a> <span class="fn">v</span> <span class="fn">e₁</span></span></span></span></span></span><br></br><span><var>he₂</var><span class="hyp-type"><b>: </b><span><span class="fn"><span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.eval">eval</a> <span class="fn">v</span> (<span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.fuse">fuse</a> <span class="fn">e₂</span></span>)</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.eval">eval</a> <span class="fn">v</span> <span class="fn">e₂</span></span></span></span></span></span><br></br></div><span class="goal-separator"><hr><span class="goal-name">plus</span></hr></span><div class="goal-conclusion"><span class="fn"><span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.eval">eval</a> <span class="fn">v</span> (<span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.fuse">fuse</a> (<span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr.plus">plus</a> <span class="fn">e₁</span> <span class="fn">e₂</span></span>)</span>)</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.eval">eval</a> <span class="fn">v</span> (<span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr.plus">plus</a> <span class="fn">e₁</span> <span class="fn">e₂</span></span>)</span></span></div></blockquote></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="plain-lean4-lean-chk35" style="display: none" type="checkbox"></input><label class="alectryon-input" for="plain-lean4-lean-chk35"><span class="alectryon-wsp"><span class="alectryon-token">| </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>times</var><b>: </b><span><span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a> → <a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a> → <a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a></span></span></span></div></blockquote></div></small></div>times</span><span class="alectryon-token"> </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>e₁</var><b>: </b><span><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a></span></span></div></blockquote></div></small></div><span class="nv">e₁</span></span><span class="alectryon-token"> </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>e₂</var><b>: </b><span><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a></span></span></div></blockquote></div></small></div><span class="nv">e₂</span></span><span class="alectryon-token"> </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>he₁</var><b>: </b><span><span class="fn"><span class="fn">?m.15623</span> <span class="fn">e₁</span></span></span></span></div></blockquote></div></small></div><span class="nv">he₁</span></span><span class="alectryon-token"> </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>he₂</var><b>: </b><span><span class="fn"><span class="fn">?m.15623</span> <span class="fn">e₂</span></span></span></span></div></blockquote></div></small></div><span class="nv">he₂</span></span><span class="alectryon-token"> =>
    </span></span></label><small class="alectryon-output"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>v</var><span class="hyp-type"><b>: </b><span><span class="fn"><a href="../../.././Init/Prelude.html#Nat">Nat</a> → <a href="../../.././Init/Prelude.html#Nat">Nat</a></span></span></span></span><br></br><span><var>e₁, e₂</var><span class="hyp-type"><b>: </b><span><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a></span></span></span><br></br><span><var>he₁</var><span class="hyp-type"><b>: </b><span><span class="fn"><span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.eval">eval</a> <span class="fn">v</span> (<span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.fuse">fuse</a> <span class="fn">e₁</span></span>)</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.eval">eval</a> <span class="fn">v</span> <span class="fn">e₁</span></span></span></span></span></span><br></br><span><var>he₂</var><span class="hyp-type"><b>: </b><span><span class="fn"><span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.eval">eval</a> <span class="fn">v</span> (<span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.fuse">fuse</a> <span class="fn">e₂</span></span>)</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.eval">eval</a> <span class="fn">v</span> <span class="fn">e₂</span></span></span></span></span></span><br></br></div><span class="goal-separator"><hr><span class="goal-name">times</span></hr></span><div class="goal-conclusion"><span class="fn"><span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.eval">eval</a> <span class="fn">v</span> (<span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.fuse">fuse</a> (<span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr.times">times</a> <span class="fn">e₁</span> <span class="fn">e₂</span></span>)</span>)</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.eval">eval</a> <span class="fn">v</span> (<span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr.times">times</a> <span class="fn">e₁</span> <span class="fn">e₂</span></span>)</span></span></div></blockquote></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="plain-lean4-lean-chk36" style="display: none" type="checkbox"></input><label class="alectryon-input" for="plain-lean4-lean-chk36"><span class="alectryon-wsp"><span class="alectryon-token"><span class="k">unfold</span></span><span class="alectryon-token"> </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>fuse</var><b>: </b><span><span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a> → <a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a></span></span></span></div></blockquote></div></small></div>fuse</span></span></label><small class="alectryon-output"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>v</var><span class="hyp-type"><b>: </b><span><span class="fn"><a href="../../.././Init/Prelude.html#Nat">Nat</a> → <a href="../../.././Init/Prelude.html#Nat">Nat</a></span></span></span></span><br></br><span><var>e₁, e₂</var><span class="hyp-type"><b>: </b><span><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a></span></span></span><br></br><span><var>he₁</var><span class="hyp-type"><b>: </b><span><span class="fn"><span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.eval">eval</a> <span class="fn">v</span> (<span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.fuse">fuse</a> <span class="fn">e₁</span></span>)</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.eval">eval</a> <span class="fn">v</span> <span class="fn">e₁</span></span></span></span></span></span><br></br><span><var>he₂</var><span class="hyp-type"><b>: </b><span><span class="fn"><span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.eval">eval</a> <span class="fn">v</span> (<span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.fuse">fuse</a> <span class="fn">e₂</span></span>)</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.eval">eval</a> <span class="fn">v</span> <span class="fn">e₂</span></span></span></span></span></span><br></br></div><span class="goal-separator"><hr><span class="goal-name">times</span></hr></span><div class="goal-conclusion"><span class="fn"><span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.eval">eval</a> <span class="fn">v</span> (<span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.simpConst">simpConst</a> (<span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr.times">times</a> (<span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.fuse">fuse</a> <span class="fn">e₁</span></span>) (<span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.fuse">fuse</a> <span class="fn">e₂</span></span>)</span>)</span>)</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.eval">eval</a> <span class="fn">v</span> (<span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr.times">times</a> <span class="fn">e₁</span> <span class="fn">e₂</span></span>)</span></span></div></blockquote></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="plain-lean4-lean-chk37" style="display: none" type="checkbox"></input><label class="alectryon-input" for="plain-lean4-lean-chk37"><span class="alectryon-wsp"><span class="alectryon-token">
    </span></span></label><small class="alectryon-output"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>v</var><span class="hyp-type"><b>: </b><span><span class="fn"><a href="../../.././Init/Prelude.html#Nat">Nat</a> → <a href="../../.././Init/Prelude.html#Nat">Nat</a></span></span></span></span><br></br><span><var>e₁, e₂</var><span class="hyp-type"><b>: </b><span><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a></span></span></span><br></br><span><var>he₁</var><span class="hyp-type"><b>: </b><span><span class="fn"><span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.eval">eval</a> <span class="fn">v</span> (<span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.fuse">fuse</a> <span class="fn">e₁</span></span>)</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.eval">eval</a> <span class="fn">v</span> <span class="fn">e₁</span></span></span></span></span></span><br></br><span><var>he₂</var><span class="hyp-type"><b>: </b><span><span class="fn"><span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.eval">eval</a> <span class="fn">v</span> (<span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.fuse">fuse</a> <span class="fn">e₂</span></span>)</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.eval">eval</a> <span class="fn">v</span> <span class="fn">e₂</span></span></span></span></span></span><br></br></div><span class="goal-separator"><hr><span class="goal-name">plus</span></hr></span><div class="goal-conclusion"><span class="fn"><span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.eval">eval</a> <span class="fn">v</span> (<span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.fuse">fuse</a> (<span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr.plus">plus</a> <span class="fn">e₁</span> <span class="fn">e₂</span></span>)</span>)</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.eval">eval</a> <span class="fn">v</span> (<span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr.plus">plus</a> <span class="fn">e₁</span> <span class="fn">e₂</span></span>)</span></span></div></blockquote></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="plain-lean4-lean-chk38" style="display: none" type="checkbox"></input><label class="alectryon-input" for="plain-lean4-lean-chk38"><span class="alectryon-wsp"><span class="alectryon-token"><span class="k">rw</span></span><span class="alectryon-token"> [</span></span></label><small class="alectryon-output"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>v</var><span class="hyp-type"><b>: </b><span><span class="fn"><a href="../../.././Init/Prelude.html#Nat">Nat</a> → <a href="../../.././Init/Prelude.html#Nat">Nat</a></span></span></span></span><br></br><span><var>e₁, e₂</var><span class="hyp-type"><b>: </b><span><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a></span></span></span><br></br><span><var>he₁</var><span class="hyp-type"><b>: </b><span><span class="fn"><span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.eval">eval</a> <span class="fn">v</span> (<span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.fuse">fuse</a> <span class="fn">e₁</span></span>)</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.eval">eval</a> <span class="fn">v</span> <span class="fn">e₁</span></span></span></span></span></span><br></br><span><var>he₂</var><span class="hyp-type"><b>: </b><span><span class="fn"><span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.eval">eval</a> <span class="fn">v</span> (<span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.fuse">fuse</a> <span class="fn">e₂</span></span>)</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.eval">eval</a> <span class="fn">v</span> <span class="fn">e₂</span></span></span></span></span></span><br></br></div><span class="goal-separator"><hr><span class="goal-name">times</span></hr></span><div class="goal-conclusion"><span class="fn"><span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.eval">eval</a> <span class="fn">v</span> (<span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.simpConst">simpConst</a> (<span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr.times">times</a> (<span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.fuse">fuse</a> <span class="fn">e₁</span></span>) (<span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.fuse">fuse</a> <span class="fn">e₂</span></span>)</span>)</span>)</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.eval">eval</a> <span class="fn">v</span> (<span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr.times">times</a> <span class="fn">e₁</span> <span class="fn">e₂</span></span>)</span></span></div></blockquote></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="plain-lean4-lean-chk39" style="display: none" type="checkbox"></input><label class="alectryon-input" for="plain-lean4-lean-chk39"><span class="alectryon-wsp"><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>simpConst_eq</var><b>: </b><span><span class="fn">∀ (<span class="fn">v</span> : <span class="fn"><a href="../../.././Init/Prelude.html#Nat">Nat</a> → <a href="../../.././Init/Prelude.html#Nat">Nat</a></span>) (<span class="fn">e</span> : <a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a>), <span class="fn"><span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.eval">eval</a> <span class="fn">v</span> (<span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.simpConst">simpConst</a> <span class="fn">e</span></span>)</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.eval">eval</a> <span class="fn">v</span> <span class="fn">e</span></span></span></span></span></span></div></blockquote></div></small></div>simpConst_eq</span></span></label><small class="alectryon-output"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>v</var><span class="hyp-type"><b>: </b><span><span class="fn"><a href="../../.././Init/Prelude.html#Nat">Nat</a> → <a href="../../.././Init/Prelude.html#Nat">Nat</a></span></span></span></span><br></br><span><var>e₁, e₂</var><span class="hyp-type"><b>: </b><span><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a></span></span></span><br></br><span><var>he₁</var><span class="hyp-type"><b>: </b><span><span class="fn"><span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.eval">eval</a> <span class="fn">v</span> (<span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.fuse">fuse</a> <span class="fn">e₁</span></span>)</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.eval">eval</a> <span class="fn">v</span> <span class="fn">e₁</span></span></span></span></span></span><br></br><span><var>he₂</var><span class="hyp-type"><b>: </b><span><span class="fn"><span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.eval">eval</a> <span class="fn">v</span> (<span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.fuse">fuse</a> <span class="fn">e₂</span></span>)</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.eval">eval</a> <span class="fn">v</span> <span class="fn">e₂</span></span></span></span></span></span><br></br></div><span class="goal-separator"><hr><span class="goal-name">times</span></hr></span><div class="goal-conclusion"><span class="fn"><span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.eval">eval</a> <span class="fn">v</span> (<span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr.times">times</a> (<span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.fuse">fuse</a> <span class="fn">e₁</span></span>) (<span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.fuse">fuse</a> <span class="fn">e₂</span></span>)</span>)</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.eval">eval</a> <span class="fn">v</span> (<span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr.times">times</a> <span class="fn">e₁</span> <span class="fn">e₂</span></span>)</span></span></div></blockquote></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="plain-lean4-lean-chk40" style="display: none" type="checkbox"></input><label class="alectryon-input" for="plain-lean4-lean-chk40"><span class="alectryon-wsp"><span class="alectryon-token">]</span></span></label><small class="alectryon-output"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>v</var><span class="hyp-type"><b>: </b><span><span class="fn"><a href="../../.././Init/Prelude.html#Nat">Nat</a> → <a href="../../.././Init/Prelude.html#Nat">Nat</a></span></span></span></span><br></br><span><var>e₁, e₂</var><span class="hyp-type"><b>: </b><span><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a></span></span></span><br></br><span><var>he₁</var><span class="hyp-type"><b>: </b><span><span class="fn"><span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.eval">eval</a> <span class="fn">v</span> (<span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.fuse">fuse</a> <span class="fn">e₁</span></span>)</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.eval">eval</a> <span class="fn">v</span> <span class="fn">e₁</span></span></span></span></span></span><br></br><span><var>he₂</var><span class="hyp-type"><b>: </b><span><span class="fn"><span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.eval">eval</a> <span class="fn">v</span> (<span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.fuse">fuse</a> <span class="fn">e₂</span></span>)</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.eval">eval</a> <span class="fn">v</span> <span class="fn">e₂</span></span></span></span></span></span><br></br></div><span class="goal-separator"><hr><span class="goal-name">times</span></hr></span><div class="goal-conclusion"><span class="fn"><span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.eval">eval</a> <span class="fn">v</span> (<span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr.times">times</a> (<span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.fuse">fuse</a> <span class="fn">e₁</span></span>) (<span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.fuse">fuse</a> <span class="fn">e₂</span></span>)</span>)</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.eval">eval</a> <span class="fn">v</span> (<span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr.times">times</a> <span class="fn">e₁</span> <span class="fn">e₂</span></span>)</span></span></div></blockquote></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="plain-lean4-lean-chk41" style="display: none" type="checkbox"></input><label class="alectryon-input" for="plain-lean4-lean-chk41"><span class="alectryon-wsp"><span class="alectryon-token">
    </span></span></label><small class="alectryon-output"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>v</var><span class="hyp-type"><b>: </b><span><span class="fn"><a href="../../.././Init/Prelude.html#Nat">Nat</a> → <a href="../../.././Init/Prelude.html#Nat">Nat</a></span></span></span></span><br></br><span><var>e₁, e₂</var><span class="hyp-type"><b>: </b><span><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a></span></span></span><br></br><span><var>he₁</var><span class="hyp-type"><b>: </b><span><span class="fn"><span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.eval">eval</a> <span class="fn">v</span> (<span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.fuse">fuse</a> <span class="fn">e₁</span></span>)</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.eval">eval</a> <span class="fn">v</span> <span class="fn">e₁</span></span></span></span></span></span><br></br><span><var>he₂</var><span class="hyp-type"><b>: </b><span><span class="fn"><span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.eval">eval</a> <span class="fn">v</span> (<span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.fuse">fuse</a> <span class="fn">e₂</span></span>)</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.eval">eval</a> <span class="fn">v</span> <span class="fn">e₂</span></span></span></span></span></span><br></br></div><span class="goal-separator"><hr><span class="goal-name">plus</span></hr></span><div class="goal-conclusion"><span class="fn"><span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.eval">eval</a> <span class="fn">v</span> (<span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.fuse">fuse</a> (<span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr.plus">plus</a> <span class="fn">e₁</span> <span class="fn">e₂</span></span>)</span>)</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.eval">eval</a> <span class="fn">v</span> (<span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr.plus">plus</a> <span class="fn">e₁</span> <span class="fn">e₂</span></span>)</span></span></div></blockquote></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="plain-lean4-lean-chk42" style="display: none" type="checkbox"></input><label class="alectryon-input" for="plain-lean4-lean-chk42"><span class="alectryon-wsp"><span class="alectryon-token"><span class="k">unfold</span></span><span class="alectryon-token"> </span><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>eval</var><b>: </b><span><span class="fn">(<span class="fn"><a href="../../.././Init/Prelude.html#Nat">Nat</a> → <a href="../../.././Init/Prelude.html#Nat">Nat</a></span>) → <span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a> → <a href="../../.././Init/Prelude.html#Nat">Nat</a></span></span></span></span></div></blockquote></div></small></div>eval</span></span></label><small class="alectryon-output"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>v</var><span class="hyp-type"><b>: </b><span><span class="fn"><a href="../../.././Init/Prelude.html#Nat">Nat</a> → <a href="../../.././Init/Prelude.html#Nat">Nat</a></span></span></span></span><br></br><span><var>e₁, e₂</var><span class="hyp-type"><b>: </b><span><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a></span></span></span><br></br><span><var>he₁</var><span class="hyp-type"><b>: </b><span><span class="fn"><span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.eval">eval</a> <span class="fn">v</span> (<span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.fuse">fuse</a> <span class="fn">e₁</span></span>)</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.eval">eval</a> <span class="fn">v</span> <span class="fn">e₁</span></span></span></span></span></span><br></br><span><var>he₂</var><span class="hyp-type"><b>: </b><span><span class="fn"><span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.eval">eval</a> <span class="fn">v</span> (<span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.fuse">fuse</a> <span class="fn">e₂</span></span>)</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.eval">eval</a> <span class="fn">v</span> <span class="fn">e₂</span></span></span></span></span></span><br></br></div><span class="goal-separator"><hr><span class="goal-name">times</span></hr></span><div class="goal-conclusion"><span class="fn"><span class="fn"><span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.eval">eval</a> <span class="fn">v</span> (<span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.fuse">fuse</a> <span class="fn">e₁</span></span>)</span> <a href="../../.././Init/Prelude.html#HMul.hMul">*</a> <span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.eval">eval</a> <span class="fn">v</span> (<span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.fuse">fuse</a> <span class="fn">e₂</span></span>)</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.eval">eval</a> <span class="fn">v</span> <span class="fn">e₁</span></span> <a href="../../.././Init/Prelude.html#HMul.hMul">*</a> <span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.eval">eval</a> <span class="fn">v</span> <span class="fn">e₂</span></span></span></span></div></blockquote></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="plain-lean4-lean-chk43" style="display: none" type="checkbox"></input><label class="alectryon-input" for="plain-lean4-lean-chk43"><span class="alectryon-wsp"><span class="alectryon-token">
    </span></span></label><small class="alectryon-output"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>v</var><span class="hyp-type"><b>: </b><span><span class="fn"><a href="../../.././Init/Prelude.html#Nat">Nat</a> → <a href="../../.././Init/Prelude.html#Nat">Nat</a></span></span></span></span><br></br><span><var>e₁, e₂</var><span class="hyp-type"><b>: </b><span><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a></span></span></span><br></br><span><var>he₁</var><span class="hyp-type"><b>: </b><span><span class="fn"><span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.eval">eval</a> <span class="fn">v</span> (<span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.fuse">fuse</a> <span class="fn">e₁</span></span>)</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.eval">eval</a> <span class="fn">v</span> <span class="fn">e₁</span></span></span></span></span></span><br></br><span><var>he₂</var><span class="hyp-type"><b>: </b><span><span class="fn"><span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.eval">eval</a> <span class="fn">v</span> (<span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.fuse">fuse</a> <span class="fn">e₂</span></span>)</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.eval">eval</a> <span class="fn">v</span> <span class="fn">e₂</span></span></span></span></span></span><br></br></div><span class="goal-separator"><hr><span class="goal-name">plus</span></hr></span><div class="goal-conclusion"><span class="fn"><span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.eval">eval</a> <span class="fn">v</span> (<span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.fuse">fuse</a> (<span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr.plus">plus</a> <span class="fn">e₁</span> <span class="fn">e₂</span></span>)</span>)</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.eval">eval</a> <span class="fn">v</span> (<span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr.plus">plus</a> <span class="fn">e₁</span> <span class="fn">e₂</span></span>)</span></span></div></blockquote></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="plain-lean4-lean-chk44" style="display: none" type="checkbox"></input><label class="alectryon-input" for="plain-lean4-lean-chk44"><span class="alectryon-wsp"><span class="alectryon-token"><span class="k">rw</span></span><span class="alectryon-token"> [</span></span></label><small class="alectryon-output"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>v</var><span class="hyp-type"><b>: </b><span><span class="fn"><a href="../../.././Init/Prelude.html#Nat">Nat</a> → <a href="../../.././Init/Prelude.html#Nat">Nat</a></span></span></span></span><br></br><span><var>e₁, e₂</var><span class="hyp-type"><b>: </b><span><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a></span></span></span><br></br><span><var>he₁</var><span class="hyp-type"><b>: </b><span><span class="fn"><span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.eval">eval</a> <span class="fn">v</span> (<span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.fuse">fuse</a> <span class="fn">e₁</span></span>)</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.eval">eval</a> <span class="fn">v</span> <span class="fn">e₁</span></span></span></span></span></span><br></br><span><var>he₂</var><span class="hyp-type"><b>: </b><span><span class="fn"><span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.eval">eval</a> <span class="fn">v</span> (<span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.fuse">fuse</a> <span class="fn">e₂</span></span>)</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.eval">eval</a> <span class="fn">v</span> <span class="fn">e₂</span></span></span></span></span></span><br></br></div><span class="goal-separator"><hr><span class="goal-name">plus</span></hr></span><div class="goal-conclusion"><span class="fn"><span class="fn"><span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.eval">eval</a> <span class="fn">v</span> (<span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.fuse">fuse</a> <span class="fn">e₁</span></span>)</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.eval">eval</a> <span class="fn">v</span> (<span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.fuse">fuse</a> <span class="fn">e₂</span></span>)</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.eval">eval</a> <span class="fn">v</span> <span class="fn">e₁</span></span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.eval">eval</a> <span class="fn">v</span> <span class="fn">e₂</span></span></span></span></div></blockquote></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="plain-lean4-lean-chk45" style="display: none" type="checkbox"></input><label class="alectryon-input" for="plain-lean4-lean-chk45"><span class="alectryon-wsp"><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>he₁</var><b>: </b><span><span class="fn"><span class="fn">?m.15623</span> <span class="fn">e₁</span></span></span></span></div></blockquote></div></small></div><span class="nv">he₁</span></span><span class="alectryon-token">,</span></span></label><small class="alectryon-output"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>v</var><span class="hyp-type"><b>: </b><span><span class="fn"><a href="../../.././Init/Prelude.html#Nat">Nat</a> → <a href="../../.././Init/Prelude.html#Nat">Nat</a></span></span></span></span><br></br><span><var>e₁, e₂</var><span class="hyp-type"><b>: </b><span><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a></span></span></span><br></br><span><var>he₁</var><span class="hyp-type"><b>: </b><span><span class="fn"><span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.eval">eval</a> <span class="fn">v</span> (<span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.fuse">fuse</a> <span class="fn">e₁</span></span>)</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.eval">eval</a> <span class="fn">v</span> <span class="fn">e₁</span></span></span></span></span></span><br></br><span><var>he₂</var><span class="hyp-type"><b>: </b><span><span class="fn"><span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.eval">eval</a> <span class="fn">v</span> (<span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.fuse">fuse</a> <span class="fn">e₂</span></span>)</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.eval">eval</a> <span class="fn">v</span> <span class="fn">e₂</span></span></span></span></span></span><br></br></div><span class="goal-separator"><hr><span class="goal-name">times</span></hr></span><div class="goal-conclusion"><span class="fn"><span class="fn"><span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.eval">eval</a> <span class="fn">v</span> <span class="fn">e₁</span></span> <a href="../../.././Init/Prelude.html#HMul.hMul">*</a> <span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.eval">eval</a> <span class="fn">v</span> (<span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.fuse">fuse</a> <span class="fn">e₂</span></span>)</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.eval">eval</a> <span class="fn">v</span> <span class="fn">e₁</span></span> <a href="../../.././Init/Prelude.html#HMul.hMul">*</a> <span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.eval">eval</a> <span class="fn">v</span> <span class="fn">e₂</span></span></span></span></div></blockquote></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="plain-lean4-lean-chk46" style="display: none" type="checkbox"></input><label class="alectryon-input" for="plain-lean4-lean-chk46"><span class="alectryon-wsp"><span class="alectryon-token"> </span></span></label><small class="alectryon-output"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>v</var><span class="hyp-type"><b>: </b><span><span class="fn"><a href="../../.././Init/Prelude.html#Nat">Nat</a> → <a href="../../.././Init/Prelude.html#Nat">Nat</a></span></span></span></span><br></br><span><var>e₁, e₂</var><span class="hyp-type"><b>: </b><span><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a></span></span></span><br></br><span><var>he₁</var><span class="hyp-type"><b>: </b><span><span class="fn"><span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.eval">eval</a> <span class="fn">v</span> (<span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.fuse">fuse</a> <span class="fn">e₁</span></span>)</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.eval">eval</a> <span class="fn">v</span> <span class="fn">e₁</span></span></span></span></span></span><br></br><span><var>he₂</var><span class="hyp-type"><b>: </b><span><span class="fn"><span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.eval">eval</a> <span class="fn">v</span> (<span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.fuse">fuse</a> <span class="fn">e₂</span></span>)</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.eval">eval</a> <span class="fn">v</span> <span class="fn">e₂</span></span></span></span></span></span><br></br></div><span class="goal-separator"><hr><span class="goal-name">plus</span></hr></span><div class="goal-conclusion"><span class="fn"><span class="fn"><span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.eval">eval</a> <span class="fn">v</span> (<span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.fuse">fuse</a> <span class="fn">e₁</span></span>)</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.eval">eval</a> <span class="fn">v</span> (<span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.fuse">fuse</a> <span class="fn">e₂</span></span>)</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.eval">eval</a> <span class="fn">v</span> <span class="fn">e₁</span></span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.eval">eval</a> <span class="fn">v</span> <span class="fn">e₂</span></span></span></span></div></blockquote></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="plain-lean4-lean-chk47" style="display: none" type="checkbox"></input><label class="alectryon-input" for="plain-lean4-lean-chk47"><span class="alectryon-wsp"><span class="alectryon-token"><div class="alectryon-type-info-wrapper"><small class="alectryon-type-info"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span class="hyp-type"><var>he₂</var><b>: </b><span><span class="fn"><span class="fn">?m.15623</span> <span class="fn">e₂</span></span></span></span></div></blockquote></div></small></div><span class="nv">he₂</span></span></span></label><small class="alectryon-output"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>v</var><span class="hyp-type"><b>: </b><span><span class="fn"><a href="../../.././Init/Prelude.html#Nat">Nat</a> → <a href="../../.././Init/Prelude.html#Nat">Nat</a></span></span></span></span><br></br><span><var>e₁, e₂</var><span class="hyp-type"><b>: </b><span><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.Expr">Expr</a></span></span></span><br></br><span><var>he₁</var><span class="hyp-type"><b>: </b><span><span class="fn"><span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.eval">eval</a> <span class="fn">v</span> (<span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.fuse">fuse</a> <span class="fn">e₁</span></span>)</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.eval">eval</a> <span class="fn">v</span> <span class="fn">e₁</span></span></span></span></span></span><br></br><span><var>he₂</var><span class="hyp-type"><b>: </b><span><span class="fn"><span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.eval">eval</a> <span class="fn">v</span> (<span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.fuse">fuse</a> <span class="fn">e₂</span></span>)</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.eval">eval</a> <span class="fn">v</span> <span class="fn">e₂</span></span></span></span></span></span><br></br></div><span class="goal-separator"><hr><span class="goal-name">plus</span></hr></span><div class="goal-conclusion"><span class="fn"><span class="fn"><span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.eval">eval</a> <span class="fn">v</span> <span class="fn">e₁</span></span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.eval">eval</a> <span class="fn">v</span> <span class="fn">e₂</span></span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.eval">eval</a> <span class="fn">v</span> <span class="fn">e₁</span></span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn"><a href="../../.././Bookshelf/Avigad/Chapter_8.html#Avigad.Chapter8.ex5.eval">eval</a> <span class="fn">v</span> <span class="fn">e₂</span></span></span></span></div></blockquote></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="plain-lean4-lean-chk48" style="display: none" type="checkbox"></input><label class="alectryon-input" for="plain-lean4-lean-chk48"><span class="alectryon-wsp"><span class="alectryon-token">]</span></span></label><small class="alectryon-output"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"></div><span class="goal-separator"><hr><span class="goal-name"></span></hr></span><div class="goal-conclusion">Goals accomplished! 🐙</div></blockquote></div></small></span><span class="alectryon-wsp"><span class="alectryon-token">

-- The last two theorems show that the definitions preserve the value.

</span><span class="alectryon-token"><span class="k">end</span></span><span class="alectryon-token"> ex5

</span><span class="alectryon-token"><span class="k">end</span></span><span class="alectryon-token"> Avigad.Chapter8</span></span></pre></article></body></html>